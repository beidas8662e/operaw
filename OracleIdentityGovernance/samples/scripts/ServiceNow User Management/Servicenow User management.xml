<?xml version="1.0" encoding="UTF-8"?><unload unload_date="2023-10-03 10:34:55">
<!--Copyright (c) 2023, Oracle and/or its affiliates. All rights reserved.-->
<!--This software is licensed to you under the Universal Permissive License (UPL) 1.0 as shown at https://oss.oracle.com/licenses/upl.-->
<sys_remote_update_set action="INSERT_OR_UPDATE">
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<application_name>Oracle Identity Management for User Management</application_name>
<application_scope>x_paler_oracle_ide</application_scope>
<application_version>1.0.0</application_version>
<collisions/>
<commit_date/>
<deleted/>
<description/>
<inserted/>
<name>User Management APIs</name>
<origin_sys_id/>
<parent display_value=""/>
<release_date/>
<remote_base_update_set display_value=""/>
<remote_parent_id/>
<remote_sys_id>da22d820479c7550d614699e536d43d9</remote_sys_id>
<state>loaded</state>
<summary/>
<sys_class_name>sys_remote_update_set</sys_class_name>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>77ce821747253190d614699e536d4324</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<update_set display_value=""/>
<update_source display_value=""/>
<updated/>
</sys_remote_update_set>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_140b6344475d3510d614699e536d43df</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>write</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-09-11 04:41:45</sys_created_on><sys_id>140b6344475d3510d614699e536d43df</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sys_user</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_140b6344475d3510d614699e536d43df</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-09-11 04:41:45</sys_updated_on><target_name>sys_user</target_name><target_scope display_value="Global">global</target_scope><target_type>sys_db_object</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>1720889544</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>33ce821747253190d614699e536d4326</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a828baa670000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>sys_user</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>940b63449a5d35107832a248347807e1</update_guid>
<update_guid_history>940b63449a5d35107832a248347807e1:1720889544</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_a177de8597d0355051e136c71153afce</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>read</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-07-26 08:07:54</sys_created_on><sys_id>a177de8597d0355051e136c71153afce</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sys_user</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_a177de8597d0355051e136c71153afce</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-07-26 08:07:54</sys_updated_on><target_name>sys_user</target_name><target_scope display_value="Global">global</target_scope><target_type>sys_db_object</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>1594759441</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>33ce821747253190d614699e536d4329</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>189913d80bc0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>sys_user</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>ed77de8579d03550e4261e53648c5ecf</update_guid>
<update_guid_history>ed77de8579d03550e4261e53648c5ecf:1594759441</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Manager for Service Catalogue">a49e5f99974e515051e136c71153af85</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_e9ba0a3d97383d5051e136c71153af7f</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="Oracle Identity Manager for Service Catalogue">a49e5f99974e515051e136c71153af85</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-22 11:39:01</sys_created_on><sys_id>e9ba0a3d97383d5051e136c71153af7f</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ScriptableRESTMessageClient.setHttpMethod</sys_name><sys_package display_value="Oracle Identity Manager for Service Catalogue" source="x_paler_oim">a49e5f99974e515051e136c71153af85</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Manager for Service Catalogue">a49e5f99974e515051e136c71153af85</sys_scope><sys_update_name>sys_scope_privilege_e9ba0a3d97383d5051e136c71153af7f</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-22 11:39:01</sys_updated_on><target_name>ScriptableRESTMessageClient.setHttpMethod</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>1992605665</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>33ce821747253190d614699e536d432c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a1d0a7f2d0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>ScriptableRESTMessageClient.setHttpMethod</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>65bac27dcf383d50f936bd7f487ef0f9</update_guid>
<update_guid_history>65bac27dcf383d50f936bd7f487ef0f9:1992605665</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_b26649414749b190d614699e536d43f2</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;GET&lt;/http_method&gt;&lt;name&gt;GetGroupAssignToUser&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
  
    var userId =(request.queryParams.userId).toString();
	gs.info("UserID " + userId);
	
    // Query the sys_user table to get the user's record
    var userGr = new GlideRecord('sys_user');
	var fieldsGroup = gs.getProperty("x_paler_oracle_ide.group_field_json").split(",");
	userGr.query();
    if (userGr.get(userId)) {
       
        var userGroups = [];

        
        var groupMembershipGr = new GlideRecord('sys_user_grmember');
        groupMembershipGr.addQuery('user', userId);
        groupMembershipGr.query();
		var group={};
        while (groupMembershipGr.next()) {
            var groupId = groupMembershipGr.group.toString(); // Convert the group to a string
			//var groupName = groupMembershipGr.get(name).toString(); // Convert the group to a string
			for (var j in fieldsGroup) {
				group[fieldsGroup[j]] = groupMembershipGr.getValue(fieldsGroup[j]);
				if(group[fieldsGroup[j]]==null){
					group[fieldsGroup[j]]="";
				}
			}
			group.group_sys_id=groupId;
            userGroups.push(group);
			group={};
        }

        // Prepare the JSON response
        var responseBody = {
            sys_id: userId,
            groups: userGroups
        };

        // Set the response
        response.setContentType('application/json');
        response.setBody(responseBody);
    } else {
        // User not found
        response.setStatus(404); 
        response.setBody({ error: 'User not found' });
    }

})(request, response);
]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_paler_oracle_ide/user_management/user_group&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/user_group&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;requires_snc_internal_role&gt;true&lt;/requires_snc_internal_role&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-09-01 09:07:39&lt;/sys_created_on&gt;&lt;sys_id&gt;b26649414749b190d614699e536d43f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;36&lt;/sys_mod_count&gt;&lt;sys_name&gt;GetGroupAssignToUser&lt;/sys_name&gt;&lt;sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Oracle Identity Management for User Management"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_b26649414749b190d614699e536d43f2&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-09-19 06:01:16&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="User Management"&gt;b070e0e8479c7550d614699e536d439b&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1279326628</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>33ce821747253190d614699e536d432f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18aac0755740000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>GetGroupAssignToUser</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>3ee9093edfd5fd105ce6b8ff376ccf6a</update_guid>
<update_guid_history>3ee9093edfd5fd105ce6b8ff376ccf6a:-1279326628,ab11817d03c575907948375fe8ee3192:-1706965978,05fef43d32c57590fbae044b5bd47dd4:1980491161,bdbe3c3d36c57590f3618b375313696d:1785004659,995ef43dafc575908d75db86ea3771d0:198402247,5768d1cd4949b1900230194aca0e5179:1299898538,af07198d7249b19063579a32faacdc09:-1380038323,4cd6994dfe49b190c06717f887f5b42b:1942197710,29b6554daf49b190cab5742395993729:-1911886964,ca96554d2949b19038740ff16947cf19:1591164099,41d5994db849b190141bb9f9afc26d18:-1604917097,6664190da449b190b4cac2c7804f19a8:11517629,3aa3dd898a49b190d7f62819d7a12d7f:1338659675,4aa01d492349b190606a1c46024aa732:-348633482,ac501949c249b19093c266a6b506fd42:-1821676546,d3ef4dc5b649b19083596668c688daba:2117069460,8b8fcd85fa49b190941346944e3ae3b0:-1821676546,8c8e49452a49b190b9bac8ee81755bea:1895556071,5cddc5c52d49b190d9fcb99649c32679:-360609967,753dcd857b49b190893102c013a6a1a7:1866690826,842d09459d49b19017a54997f626a79c:-311424411,ed1d89c1ff49b19089728f34538fa855:-486855355,182c09456149b190abc03b2a7b311ee1:-1747406217,078bcd054d49b1909d28f7f3d75a001e:-1968024994,ac7b09458649b1900cb497fa1fe9bb7c:-657029290,575b0945c349b1902264ade68435cf78:1146431910,434b81454d49b1902c3b812db8c1bf62:1559298564,0c0b81451649b1903df8da11cc715045:-565755218,05da85c14249b1905ba4b88589c2f3d4:-2127800265,658ac1c1dc49b1902b1fe85c35f7297a:-2073718182,6d5a0dc14b49b1900d28f9ab0059ea59:1641818264,db2985c1ba49b1907610b64f99711fa2:-306389441,fc0905c15149b190d76311253d1fe81a:-2014272953,dfe80981c649b190c9ef41b30d046b1d:-1822774327,48a809812749b1900aec1319e9809b18:-1508615111,914801813749b1907893738bafe10c00:-730495551,6df74581a249b1904685e6e1e4c604d2:-2085862351</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_fe9bccb047817190d614699e536d4395</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;POST&lt;/http_method&gt;&lt;name&gt;AssignRole&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
    var requestBody = request.body.data; 
    var userId = requestBody.user;
    var roleId = requestBody.role;
   
    var userRecord = new GlideRecord('sys_user'); 
    if (userRecord.get(userId)) {
        // User found
        var roleRecord = new GlideRecord('sys_user_role'); 
        if (roleRecord.get(roleId)) {
            // Role found
            var userHasRole = new GlideRecord('sys_user_has_role'); 
            userHasRole.initialize();
            userHasRole.user = userId;
            userHasRole.role = roleId;
            userHasRole.insert();
            
            response.setStatus(201);
            response.setBody({
                message: "Role added to user successfully"
            });
        } else {
            // Role not found
            response.setStatus(404);
            response.setBody({
                error: "Role not found"
            });
        }
    } else {
        // User not found
        response.setStatus(404);
        response.setBody({
            error: "User not found"
        });
    }
})(request, response);
]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_paler_oracle_ide/user_management/role_assign&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/role_assign&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;requires_snc_internal_role&gt;true&lt;/requires_snc_internal_role&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-08-31 10:05:56&lt;/sys_created_on&gt;&lt;sys_id&gt;fe9bccb047817190d614699e536d4395&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_name&gt;AssignRole&lt;/sys_name&gt;&lt;sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Oracle Identity Management for User Management"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_fe9bccb047817190d614699e536d4395&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-08-31 10:13:31&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="User Management"&gt;b070e0e8479c7550d614699e536d439b&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>-159284507</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>33ce821747253190d614699e536d4349</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a4b15719f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>AssignRole</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>e07d443448817190fee75b3c0be50b56</update_guid>
<update_guid_history>e07d443448817190fee75b3c0be50b56:-159284507,c08c84f05a8171902bfda29efbbd0c67:-1586195473,4b4cccb00b817190c73eb5ed021c89ca:660806863,a5bbccb0168171900b86bce13fbc67d7:1275770281</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_properties_ba63d9ef47343d50d614699e536d4329</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description/><ignore_cache>true</ignore_cache><is_private>false</is_private><name>x_paler_oracle_ide.department_field_json</name><read_roles/><suffix>department_field_json</suffix><sys_class_name>sys_properties</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-27 18:07:24</sys_created_on><sys_id>ba63d9ef47343d50d614699e536d4329</sys_id><sys_mod_count>1</sys_mod_count><sys_name>x_paler_oracle_ide.department_field_json</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_properties_ba63d9ef47343d50d614699e536d4329</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-27 18:10:24</sys_updated_on><type>string</type><value>parent,sys_mod_count,description,head_count,sys_updated_on,sys_tags,business_unit,sys_id,dept_head,sys_updated_by,cost_center,sys_created_on,name,company,id,primary_contact,sys_created_by</value><write_roles/></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=ba63d9ef47343d50d614699e536d4329"/></record_update>]]></payload>
<payload_hash>1912706822</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>37ce821747253190d614699e536d4325</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a38309e350000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>x_paler_oracle_ide.department_field_json</target_name>
<type>System Property</type>
<update_domain>global</update_domain>
<update_guid>9334dd232e743d501f9330538b2c0562</update_guid>
<update_guid_history>9334dd232e743d501f9330538b2c0562:1912706822,9f8315af72343d50b47566d8b6031247:-1467604765</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_86e615a64799bd10d614699e536d430b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>delete</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-09-18 12:19:32</sys_created_on><sys_id>86e615a64799bd10d614699e536d430b</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sys_user</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_86e615a64799bd10d614699e536d430b</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-09-18 12:19:32</sys_updated_on><target_name>sys_user</target_name><target_scope display_value="Global">global</target_scope><target_type>sys_db_object</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>1531563612</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>37ce821747253190d614699e536d4328</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18aa83b49880000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>sys_user</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>02e615a63a99bd10ca409d4ba5f8d00f</update_guid>
<update_guid_history>02e615a63a99bd10ca409d4ba5f8d00f:1531563612</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_deb01a3647d9fd10d614699e536d433c</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-09-19 11:10:37</sys_created_on><sys_id>deb01a3647d9fd10d614699e536d433c</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ScriptableServiceResultStreamWriter.writeString</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_deb01a3647d9fd10d614699e536d433c</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-09-19 11:10:37</sys_updated_on><target_name>ScriptableServiceResultStreamWriter.writeString</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>-1487473967</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>37ce821747253190d614699e536d432b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18aad228da80000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>ScriptableServiceResultStreamWriter.writeString</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>d2b01a3652d9fd1052f0bbf61672293e</update_guid>
<update_guid_history>d2b01a3652d9fd1052f0bbf61672293e:-1487473967</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_a043f14a97387d5051e136c71153af8b</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;GET&lt;/http_method&gt;&lt;name&gt;GetRoles&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {

    var writer = response.getStreamWriter();
    var roleRecords = [];
    var grRole = new GlideRecord('sys_user_role');
	//grRole.setLimit(limit);
    grRole.query(); // Retrieve all Groups

    var fields = gs.getProperty("x_paler_oracle_ide.role_field_json").split(",");


    while (grRole.next() ) {
		var role = {};
              for (var i in fields) {
			role[fields[i]] = grRole.getValue(fields[i]);
         roleRecords.push(role);
		gs.info("Role -  Name" + role);
		}
// 		if(role != {}){
// 			roleRecords.push(role);
// 		}
			
		//gs.info("RoleRecord " + recordCounter +"- user Name" + grRole[recordCounter]["name"]);
    }


    var responseBody = {
        result: roleRecords,
    };

    response.setContentType('application/json');
    response.setStatus(200);
    //response.setBody(responseBody);
	response.setBody(writer.writeString(JSON.stringify(responseBody)));

})(request, response);
]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_paler_oracle_ide/user_management/roles&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/roles&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;requires_snc_internal_role&gt;true&lt;/requires_snc_internal_role&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-08-23 04:40:30&lt;/sys_created_on&gt;&lt;sys_id&gt;a043f14a97387d5051e136c71153af8b&lt;/sys_id&gt;&lt;sys_mod_count&gt;65&lt;/sys_mod_count&gt;&lt;sys_name&gt;GetRoles&lt;/sys_name&gt;&lt;sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Oracle Identity Management for User Management"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_a043f14a97387d5051e136c71153af8b&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-09-28 22:42:45&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="User Management"&gt;b070e0e8479c7550d614699e536d439b&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>1440028834</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>37ce821747253190d614699e536d432e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18addf5754b0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>GetRoles</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>c575cbfd57a935508f12fb8c21f87967</update_guid>
<update_guid_history>c575cbfd57a935508f12fb8c21f87967:1440028834,8f7e046d932db15077f837df1d28f382:512729090,6d4e0c6d512db150fd7d78c10310cab7:1783744928,42c08477fbd1f1500ba9840946ac95a1:-1124673279,3802bcefdb15b1501aa9d7a708b8fc00:1320821656,0d1eaceb8d15b1500fa62fc008a8d4f6:-1386961824,4bdc68ebd415b1502bd4faa7d22583c4:-2055850720,d11720a79315b150292604e63ee4c7f2:-603922066,df43a0a34c15b150c6fd2d44c720757d:-972686802,c4b22063c115b1507745c004db7549e5:2011689982,2061e4efe3d1b15011fcdc8a3c775c85:-972686802,9ecdf64f53dd31500a6e036c24513651:-683580598,e9ab3dc7441d315099fc70619ffb1693:-862277654,ef4bb90b441d3150805420aebee3b7e7:677222378,f52bb90bc01d3150490a5f1e6fa76f96:907219574,a81bb50b921d3150589e4e49cb3dd323:132195342,26dab50b3a1d3150acdfa1e20808671e:-402216466,19caf5c77a1d3150c498a8e0c723651c:-1330367057,46aaf10b7a1d3150fc5622ad2368c97d:-763467638,578a710b881d315042986b7fee40555e:1993526890,0e7a710b821d31506109652670ad485a:1615536362,e85afdc7b91d315021ffe59ddeab0637:1604956266,902af9c79f1d3150b63836313b1514c7:68034506,381ab587ef1d3150ee40365ddf267ba0:295180118,60c97947bb1d3150cc45f4fd46107d76:1805871977,43a97947721d31504a7e15976456de88:1749134557,93197147e51d31506fd542504b591e7e:-1571751181,67d879473e1d3150243eda876d3233a3:-1515013761,c3883d076a1d3150e5fea7b4d9831f70:-1727309879,cb787947041d3150d1265f6efe79ca6e:-450576632,19c7f507da1d315034a15b1dba5d3786:1240765716,11215932a9307190ea6bb6d325eafa2a:1721289762,ccd01132d9307190a5e705648e853d50:1292764050,21b091321c3071907574e5f0ff4f5112:584578727,6b90ddfef1fc31907df92d3462423ae3:1501819335,888059fe64fc3190a3e4763257fd96ad:-1486264554,cb6059fed8fc3190c12aed9627363798:854094774,594059fed0fc3190919aad008f114b93:-1909660049,50c00fd2e070fd501a43a00ec2d08bd6:229336040,402047164770fd505593291207416673:495899138,cf0eb692dd70fd50a661f8912da4ad2e:229336040,13c41f0669bc7d5038d1e8575aaca813:-1242742181,fd9e4206a7b87d50f9202ee4d8929c59:1392530970,5b364aca06787d50c017ab038c56786e:540125553,10b506c628787d50ae1ccd91aa9d207f:-737070890,32558a8608787d505980a6d86c5e12ca:-412666575,ec350ecacc787d50f4ec19e1c45e6744:-1189188471,0c25864ac7787d50580f0f9c9521e55c:366353253,a005c6ca97787d5001ba342209e4f6d5:-1150917367,e9e40e8ab3787d507c8547c84477523f:444373845,d9d3864a6f787d5056267e254e2b9756:-708995942,03324e8626787d50a5d7034351d040f1:728789131,c37082c685787d50d27a53f548a0465f:1391958600,e3bbfd020b787d5068d05b9c85e562f8:1312708853,918a394244787d50aa6c445400a6e3fe:-366312942,be5afd025a787d50273a2332136f5e61:1066598579,bd4a71423b787d50974cdf796107aa3e:1091013011,db1a714264787d50cab0425c0478b468:-166297869,98b9310282787d50bd5a5b7429414121:82622041,c78971cecc387d50ffe8e555480a07a8:1763572065,9879f10296787d5031389478efae2370:1621556357,cf56f54eb7387d50e165e7107b6e63f9:-2009553904,a8467dcafc387d50d5f2f9bbbfa73a1f:-942335474,dee439cab6387d500756bd8f59c59520:-332657614,41c4f5ca2e387d501c116c24ab6eea3e:-1415029071,a484f18ad2387d5094208b4369db146f:-127011601</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_65f101fd47c57590d614699e536d43c8</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>read</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-09-03 16:36:53</sys_created_on><sys_id>65f101fd47c57590d614699e536d43c8</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sys_user_has_role</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_65f101fd47c57590d614699e536d43c8</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-09-03 16:36:53</sys_updated_on><target_name>sys_user_has_role</target_name><target_scope display_value="Global">global</target_scope><target_type>sys_db_object</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>1375126359</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>3bce821747253190d614699e536d4327</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a5be782920000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>sys_user_has_role</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>e1f101fd1cc57590befcbdbc77d1b2ca</update_guid>
<update_guid_history>e1f101fd1cc57590befcbdbc77d1b2ca:1375126359</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_c42ae83197d4b55051e136c71153af90</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-07-28 08:05:39</sys_created_on><sys_id>c42ae83197d4b55051e136c71153af90</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ScopedGlideRecord</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_c42ae83197d4b55051e136c71153af90</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-07-28 08:05:39</sys_updated_on><target_name>ScopedGlideRecord</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>700494537</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>3bce821747253190d614699e536d432a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1899b882a8a0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>ScopedGlideRecord</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>882ae8310dd4b550900a7a66fd1f7f92</update_guid>
<update_guid_history>882ae8310dd4b550900a7a66fd1f7f92:700494537</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_406211a24799bd10d614699e536d43ab</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;DELETE&lt;/http_method&gt;&lt;name&gt;DeleteUser&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {

    // implement resource here
	
	var userSysId = request.pathParams.user_id;
	gs.info("Sys_id"+userSysId);
    var grUser = new GlideRecord('sys_user'); // Retrieve all users
	grUser.addQuery();
	if(grUser.get(userSysId)){
		//User found
	gs.info("User Delete"+grUser);
		grUser.deleteRecord();
		response.setStatus(200);
		//response.setBody("User is deleted");
	}else{
		//Not Found
		response.setStatus(404);
		//response.setBody("User not found");
	}
	response.setBody();
})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_paler_oracle_ide/user_management/delete_user/{user_id}&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/delete_user/{user_id}&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;requires_snc_internal_role&gt;true&lt;/requires_snc_internal_role&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-09-18 12:23:16&lt;/sys_created_on&gt;&lt;sys_id&gt;406211a24799bd10d614699e536d43ab&lt;/sys_id&gt;&lt;sys_mod_count&gt;7&lt;/sys_mod_count&gt;&lt;sys_name&gt;DeleteUser&lt;/sys_name&gt;&lt;sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Oracle Identity Management for User Management"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_406211a24799bd10d614699e536d43ab&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-09-22 05:35:56&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="User Management"&gt;b070e0e8479c7550d614699e536d439b&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>1527205734</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>3bce821747253190d614699e536d432d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18abb63398a0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>DeleteUser</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>dde0acbbf9d5f9105000e8cd6b2abc79</update_guid>
<update_guid_history>dde0acbbf9d5f9105000e8cd6b2abc79:1527205734,6e2f9cbbe4d5f91042411b13ecec7c34:75275020,4c5a947b4315f15076be25871085d533:-1088988532,7ee958f71615f150b17cac49ab1e26c3:-1648816532,f91995e61899bd100596aec9ff8cd7f9:-1088988532,a89815e6fc99bd10ab831cd8f353c2b7:-1252739082,e4e755668b99bd10b9448a4b512f97ef:1147745974,bcc791a63299bd106eb32a9fbb6d0e13:273090587</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Manager for Service Catalogue">a49e5f99974e515051e136c71153af85</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_5d71390a97387d5051e136c71153af7f</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>read</operation><source_scope display_value="Oracle Identity Manager for Service Catalogue">a49e5f99974e515051e136c71153af85</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-23 04:27:10</sys_created_on><sys_id>5d71390a97387d5051e136c71153af7f</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sys_user_group</sys_name><sys_package display_value="Oracle Identity Manager for Service Catalogue" source="x_paler_oim">a49e5f99974e515051e136c71153af85</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Manager for Service Catalogue">a49e5f99974e515051e136c71153af85</sys_scope><sys_update_name>sys_scope_privilege_5d71390a97387d5051e136c71153af7f</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-23 04:27:10</sys_updated_on><target_name>sys_user_group</target_name><target_scope display_value="Global">global</target_scope><target_type>sys_db_object</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>-505019</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>3fce821747253190d614699e536d4326</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a20a57bf50000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>sys_user_group</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>dd71390ae2387d50c510f2f73153a881</update_guid>
<update_guid_history>dd71390ae2387d50c510f2f73153a881:-505019</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_a9e32cba975c795051e136c71153af8f</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-07-31 10:12:22</sys_created_on><sys_id>a9e32cba975c795051e136c71153af8f</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Glide API: properties</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_a9e32cba975c795051e136c71153af8f</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-07-31 10:12:22</sys_updated_on><target_name>Glide API: properties</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>781975269</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>3fce821747253190d614699e536d4329</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>189ab6f41460000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>Glide API: properties</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>ade32cba795c79500bbafe4e37e90891</update_guid>
<update_guid_history>ade32cba795c79500bbafe4e37e90891:781975269</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_162f707d47c57590d614699e536d43ca</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;GET&lt;/http_method&gt;&lt;name&gt;RoleAssignToUser&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
  
    var userId =(request.queryParams.userId).toString();
	gs.info("UserID " + userId);
	
    // Query the sys_user table to get the user's record
    var userRo = new GlideRecord('sys_user');
	var fieldsRole = gs.getProperty("x_paler_oracle_ide.role_field_json").split(",");
	userRo.query();
    if (userRo.get(userId)) {
       
        var userRole = [];
		
        var groupMembershipRole = new GlideRecord('sys_user_has_role');
        groupMembershipRole.addQuery('user', userId);
        groupMembershipRole.query();
		var role={};
        while (groupMembershipRole.next()) {
            var roleId = groupMembershipRole.role.toString(); // Convert the group to a string
			//var groupName = groupMembershipGr.get(name).toString(); // Convert the group to a string
			for (var k in fieldsRole) {
			role[fieldsRole[k]] = groupMembershipRole.getValue(fieldsRole[k]);
				if(role[fieldsRole[k]]==null){
					role[fieldsRole[k]]="";
				}
			}
			role.role_sys_id=roleId;
            userRole.push(role);
			role={};
        }

        // Prepare the JSON response
        var responseBody = {
            sys_id: userId,
            roles: userRole
        };

        // Set the response
        response.setContentType('application/json');
        response.setBody(responseBody);
    } else {
        // User not found
        response.setStatus(404); 
        response.setBody({ error: 'User not found' });
    }

})(request, response);
]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_paler_oracle_ide/user_management/user_role&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/user_role&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;requires_snc_internal_role&gt;true&lt;/requires_snc_internal_role&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-09-03 16:34:23&lt;/sys_created_on&gt;&lt;sys_id&gt;162f707d47c57590d614699e536d43ca&lt;/sys_id&gt;&lt;sys_mod_count&gt;10&lt;/sys_mod_count&gt;&lt;sys_name&gt;RoleAssignToUser&lt;/sys_name&gt;&lt;sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Oracle Identity Management for User Management"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_162f707d47c57590d614699e536d43ca&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-09-19 05:59:57&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="User Management"&gt;b070e0e8479c7550d614699e536d439b&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>564699911</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>3fce821747253190d614699e536d432c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18aac0621bd0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>RoleAssignToUser</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>af9989fa88d5fd10984f8683bdca0cf2</update_guid>
<update_guid_history>af9989fa88d5fd10984f8683bdca0cf2:564699911,5ce809fa09d5fd10df115dd8ecb5d85a:348890379,b2d741b15709759037292f8bbcafdeb9:-129326798,0dc78db1df09759063b030d3e13afa1a:-671868008,71974df192097590923efcfd273cf4d2:-1737119172,7f02c1fd13c5759046bba7a5cd004b50:1066595086,6cf1497d8ec575906ba5797b5c5eb808:-375421695,71c1cdbd47c57590b62a7868e1e43c51:-2036173365,1cb1cdbd6ec57590d6482986c613510b:742648941,dc71817d8cc57590b355ffc9a1cf8bf7:220099583,01618d7d4ec5759063d4e5c86b53c3ff:1044538546</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_dea38ca24795bd10d614699e536d4310</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;PATCH&lt;/http_method&gt;&lt;name&gt;UpdateUser&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
    var userID = request.pathParams.user_id;
	gs.info('User ID from URL: ' + userID);
    var requestBody = request.body.data;
    gs.info('Request body: ' + requestBody);
    // Fetch the user record
    var userRecord = new GlideRecord('sys_user');
	userRecord.query();
    if (userRecord.get(userID)) {
		gs.info('User found: ' + userRecord.user_name);
		//User found
        // Update the user record based on the body
        if (requestBody.first_name) {
            userRecord.first_name = requestBody.first_name;
        }
		if (requestBody.user_name) {
            userRecord.user_name = requestBody.user_name;
        }
		if (requestBody.middle_name) {
            userRecord.middle_name = requestBody.middle_name;
        }
		if (requestBody.title) {
            userRecord.title = requestBody.title;
        }
		if (requestBody.department) {
            userRecord.department = requestBody.department;
        }
		if (requestBody.phone) {
            userRecord.phone = requestBody.phone;
        }
		if (requestBody.mobile_phone) {
            userRecord.mobile_phone = requestBody.mobile_phone;
        }
		if (requestBody.password_needs_reset) {
            userRecord.password_needs_reset = requestBody.password_needs_reset;
        }
		if (requestBody.locked_out) {
            userRecord.locked_out = requestBody.locked_out;
        }
		if (requestBody.date_format) {
            userRecord.date_format = requestBody.date_format;
        }
		if (requestBody.calendar_integration) {
            userRecord.calendar_integration = requestBody.calendar_integration;
        }
		if (requestBody.time_zone) {
            userRecord.time_zone = requestBody.time_zone;
        }
		if (requestBody.web_service_access_only) {
            userRecord.web_service_access_only = requestBody.web_service_access_only;
        }
		if (requestBody.internal_integration_user) {
            userRecord.internal_integration_user = requestBody.internal_integration_user;
        }
		if (requestBody.active) {
            userRecord.active = requestBody.active;
        }
		//gs.info('Last Name outside if: ' +requestBody.last_name);
        if (requestBody.last_name) {
			gs.info('Last Nqme: ' +requestBody.last_name);
            userRecord.last_name = requestBody.last_name;
        }
        if (requestBody.email) {
            userRecord.email = requestBody.email;
        }
		userRecord.update();
        // Save the changes
          var updatedUser = {
            sys_id: userRecord.sys_id,
            user_name: userRecord.user_name,
            first_name: userRecord.first_name,
			middle_name: userRecord.middle_name,
			department:userRecord.department,
			phone:userRecord.phone,
			mobile_phone:userRecord.mobile_phone,
            title: userRecord.title,
            last_name: userRecord.last_name,
            email: userRecord.email,
			active:userRecord.active
        };

        // Include the updated user object in the response body
        response.setStatus(200); // HTTP 200 OK
        response.setContentType('application/json'); // Set the content type to JSON
        response.setBody(updatedUser); // Include the user data in the response
   
    } else {
        response.setStatus(404); // HTTP 404 user not found
    }
	
})(request, response);
]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_paler_oracle_ide/user_management/update_user/{user_id}&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/update_user/{user_id}&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;requires_snc_internal_role&gt;true&lt;/requires_snc_internal_role&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-09-18 06:19:20&lt;/sys_created_on&gt;&lt;sys_id&gt;dea38ca24795bd10d614699e536d4310&lt;/sys_id&gt;&lt;sys_mod_count&gt;17&lt;/sys_mod_count&gt;&lt;sys_name&gt;UpdateUser&lt;/sys_name&gt;&lt;sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Oracle Identity Management for User Management"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_dea38ca24795bd10d614699e536d4310&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-09-20 06:54:14&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="User Management"&gt;b070e0e8479c7550d614699e536d439b&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>717086301</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>3fce821747253190d614699e536d432f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18ab15e2eed0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>UpdateUser</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>ecaf5647829d3150527027e20a7b1008</update_guid>
<update_guid_history>ecaf5647829d3150527027e20a7b1008:717086301,8dc8346e7b19bd1097a2c50279afa329:1015365820,3da8b86a8419bd10aa170fd9fa2629f5:-176468601,a9f7f06e3019bd106f9e9df110916a59:275013639,7ad7f82e1d19bd1058b7f85c59bbb351:-763899522,5827f06a9919bd105bf5c7fd381de6ab:-1325630380,b8b6b4aa7819bd1011571851626fad73:-2092926223,ee73302ad619bd108dc282f80096f491:-1653102191,b3517ce66919bd1017b2c546b0dd0788:-301064640,bd01b4e68c19bd10a9a8f1fbbb61cc64:-1901064246,73b078a68819bd102cfc0a0a079ea7a4:-1607699409,bc96c0663195bd10ea625f1dbff67dba:2058071309,657684668395bd10eec16600d6386656:1867143711,c64640664795bd105da7eacd8c71a300:-33348594,33f5c426c195bd10dec2a95c4012418f:1469857680,82a548260a95bd1091a04a9720828246:895439999,e584c8a27a95bd10f0f641640c801fb7:735983934,b174cca27a95bd10482ef828e38df04c:745547248</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_query_parameter_map_2f168c1797ec7d1051e136c71153afb7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ws_query_parameter_map"><sys_ws_query_parameter_map action="INSERT_OR_UPDATE"><sys_class_name>sys_ws_query_parameter_map</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-14 07:36:44</sys_created_on><sys_id>2f168c1797ec7d1051e136c71153afb7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>e126cc9797ec7d1051e136c71153afc4</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_ws_query_parameter_map_2f168c1797ec7d1051e136c71153afb7</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-14 07:36:44</sys_updated_on><web_service_operation display_value="GetUserData">c6320e8147103950d614699e536d43f2</web_service_operation><web_service_query_parameter display_value="sysparm_offset">e126cc9797ec7d1051e136c71153afc4</web_service_query_parameter></sys_ws_query_parameter_map></record_update>]]></payload>
<payload_hash>802410123</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>3fce821747253190d614699e536d4349</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>189f2f9cb8f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>e126cc9797ec7d1051e136c71153afc4</target_name>
<type>Scripted REST Query Parameter Associatio</type>
<update_domain>global</update_domain>
<update_guid>9286c01b5cec7d10f78cdefd59a179aa</update_guid>
<update_guid_history>9286c01b5cec7d10f78cdefd59a179aa:802410123</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_properties_848cb2529770fd5051e136c71153afa7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description/><ignore_cache>true</ignore_cache><is_private>false</is_private><name>x_paler_oracle_ide.role_field_json</name><read_roles/><suffix>role_field_json</suffix><sys_class_name>sys_properties</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-24 04:38:01</sys_created_on><sys_id>848cb2529770fd5051e136c71153afa7</sys_id><sys_mod_count>5</sys_mod_count><sys_name>x_paler_oracle_ide.role_field_json</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_properties_848cb2529770fd5051e136c71153afa7</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-09-21 11:53:03</sys_updated_on><type>string</type><value>grantable,sys_mod_count,description,sys_updated_on,can_delegate,sys_id,sys_package,sys_update_name,sys_updated_by,sys_created_on,name</value><write_roles/></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=848cb2529770fd5051e136c71153afa7"/></record_update>]]></payload>
<payload_hash>-1293109573</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>73ce821747253190d614699e536d4325</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18ab7961fae0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>x_paler_oracle_ide.role_field_json</target_name>
<type>System Property</type>
<update_domain>global</update_domain>
<update_guid>6f9d642f3c15b1502e1ff1869ceef54c</update_guid>
<update_guid_history>6f9d642f3c15b1502e1ff1869ceef54c:-1293109573,837decebbc15b150343a9d533cba57db:-118454295,a648eca7f315b1509c3995115cb03ee9:230693982,96ee31b6a399fd10698a4cb70d3b38b0:1077277963,90f26d2f0205b110fbe0ff8dcf37c512:365072932,4a8dba52bb70fd502bbeb5b4d6600430:1261304102</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_7b87936847cd3190d614699e536d43d3</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-31 06:18:04</sys_created_on><sys_id>7b87936847cd3190d614699e536d43d3</sys_id><sys_mod_count>0</sys_mod_count><sys_name>RESTAPIRequestBody</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_7b87936847cd3190d614699e536d43d3</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-31 06:18:04</sys_updated_on><target_name>RESTAPIRequestBody</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>-1973093023</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>73ce821747253190d614699e536d4328</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a4a3de51e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>RESTAPIRequestBody</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>7b879368f4cd3190498b0c4b84cda9d5</update_guid>
<update_guid_history>7b879368f4cd3190498b0c4b84cda9d5:-1973093023</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_dc43cac147103950d614699e536d430a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-07-26 06:39:37</sys_created_on><sys_id>dc43cac147103950d614699e536d430a</sys_id><sys_mod_count>0</sys_mod_count><sys_name>RESTAPIRequest</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_dc43cac147103950d614699e536d430a</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-07-26 06:39:37</sys_updated_on><target_name>RESTAPIRequest</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>577659937</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>73ce821747253190d614699e536d432b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18990ecaca90000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>RESTAPIRequest</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>dc43cac10d1039505323ff9ed155180c</update_guid>
<update_guid_history>dc43cac10d1039505323ff9ed155180c:577659937</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_81aa25ce97f47d5051e136c71153af55</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;GET&lt;/http_method&gt;&lt;name&gt;GetGroup&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[
    // implement resource here
	(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {

    var writer = response.getStreamWriter();
    var grpRecords = [];
    var grGroup = new GlideRecord('sys_user_group');
    grGroup.query(); // Retrieve all Groups


    var fields = gs.getProperty("x_paler_oracle_ide.group_field_json").split(",");
    gs.info("This is to check the array - " + fields[1]);


    while (grGroup.next() ) {
		var group = {};
		gs.info("grDep- user Name" + grGroup["name"]);
        
			for (var i in fields) {
				group[fields[i]] = grGroup.getValue(fields[i]);
			}
// 				if(group[fields[i]]==null){
// 					group[fields[i]]="";
// 				}
			grpRecords.push(group);
		gs.info("Department -  Name" + group);
		}
		


    var responseBody = {
        result: grpRecords,
    };

    response.setContentType('application/json');
    response.setStatus(200);
    response.setBody(writer.writeString(JSON.stringify(responseBody)));

})(request, response);
]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_paler_oracle_ide/user_management/groups&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/groups&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;requires_snc_internal_role&gt;true&lt;/requires_snc_internal_role&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-08-23 04:04:41&lt;/sys_created_on&gt;&lt;sys_id&gt;81aa25ce97f47d5051e136c71153af55&lt;/sys_id&gt;&lt;sys_mod_count&gt;33&lt;/sys_mod_count&gt;&lt;sys_name&gt;GetGroup&lt;/sys_name&gt;&lt;sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Oracle Identity Management for User Management"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_81aa25ce97f47d5051e136c71153af55&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-09-28 22:53:48&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="User Management"&gt;b070e0e8479c7550d614699e536d439b&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>1152222911</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>73ce821747253190d614699e536d432e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18addff93880000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>GetGroup</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>7ef743b148e935506fd65b015d313a74</update_guid>
<update_guid_history>7ef743b148e935506fd65b015d313a74:1152222911,f47783b190e93550ac0e82def1e03c74:139985695,40a63fe51eedf15005f4e48ae415e41f:1982789683,8ba4e4ff2dd5f910ba536e3f66a69aac:139985695,562dacab7815b1500901c36ca00fdecb:-2043829698,78b7eca73915b150ca4aafcf71c9a53f:-2058058024,d5a7eca73015b150ac40456a179a03d1:-598197925,ea876ca72615b15061ada82e552a8025:-7771739,be576c673c15b15069a38b54ac720906:107297509,f857eca76015b150c2fdd0cf048e0a1c:1999161028,558e420bbd5d3150742f0b61a1cfd4a7:664476498,103e7d8bfd1d31501f779b677a0279b9:-1140494088,f9ed318bba1d31506d93afca7c942d08:-224044158,154df58b561d31505314427d8dfa155a:-2139501592,882dfd4b111d31507d6287c7d780fb32:-1778481714,2cfc790ba31d31503be9fee2f60d1b8b:-2139501592,f5dc790b091d315042a99244aa192f9b:-705439853,5cbcb50b131d31505f700d033ab41633:-2017688535,8bc6b507961d3150e63fc4b0a3e4c3c5:-1539218606,f6863d07581d315014ffd93a04b9681d:557040974,09933faf89347d505ecd0f1a27973f89:-548224009,ea5337ef75347d50f5d11d84ae1c9f57:-317522745,f3d2f7afe8347d50e0e78b6a046f601a:-671891291,2233ddefcc343d50b044f4c721edc18c:-776009350,a073d64a01b87d5048c0848c64513e3f:803173921,6d33924ad5b87d505df700a1c4fe5ea3:1887906305,3003964aecb87d509a01d6bba9a457e8:-2091646897,49c7394ee6387d50e9db1a35d6994226:803173921,a4feed4625387d5074c8dc4618afc601:864001787,6f0ea14692387d5039187989e414c021:449272349,c99d2506bc387d5090813c6485d63166:-1932893959,4f5de5c2b0387d500807b88fcc070d86:-872359084,656c6506a1387d5029a48f1a8099f48a:-1695046227,bb4ca5c2ca387d50457c143115f16178:-157511167</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_6560d96f47343d50d614699e536d43cc</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>read</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-27 17:53:38</sys_created_on><sys_id>6560d96f47343d50d614699e536d43cc</sys_id><sys_mod_count>0</sys_mod_count><sys_name>cmn_department</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_6560d96f47343d50d614699e536d43cc</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-27 17:53:38</sys_updated_on><target_name>cmn_department</target_name><target_scope display_value="Global">global</target_scope><target_type>sys_db_object</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>1337702609</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>77ce821747253190d614699e536d4327</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a382141cb0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>cmn_department</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>6560d96fff343d509860ba24304d6ece</update_guid>
<update_guid_history>6560d96fff343d509860ba24304d6ece:1337702609</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_adb57cf997f03d5051e136c71153af53</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-22 05:27:40</sys_created_on><sys_id>adb57cf997f03d5051e136c71153af53</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ScriptableServiceResultBuilder.setContentType</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_adb57cf997f03d5051e136c71153af53</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-22 05:27:40</sys_updated_on><target_name>ScriptableServiceResultBuilder.setContentType</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>79420659</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>77ce821747253190d614699e536d432a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a1bb682370000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>ScriptableServiceResultBuilder.setContentType</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>edb5783dfff03d50d96cfbb6bbf33c3c</update_guid>
<update_guid_history>edb5783dfff03d50d96cfbb6bbf33c3c:79420659</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_3d53a89b9768bd1051e136c71153af00</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;GET&lt;/http_method&gt;&lt;name&gt;GetUserByID&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process( /*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {

    var userSysId = request.pathParams.user_id;
    var user = [];
    var result;
    var fields = gs.getProperty("x_paler_oracle_ide.fields_json").split(",");
    var field;
    var gr = new GlideRecord("sys_user");
    if (!gs.nil(userSysId))
        gr.addEncodedQuery("sys_id=" + userSysId);
    gr.query();
    if (gr.next()) {
        result = {};
        for (var i in fields) {
            result[fields[i]] = gr[fields[i]];
        }
        user.push(result);
    }

    response.setContentType('application/json');
    response.setStatus(200);
    response.setBody(user);
    // implement resource here
})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_paler_oracle_ide/user_management/{user_id}&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/{user_id}&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;requires_snc_internal_role&gt;true&lt;/requires_snc_internal_role&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-08-14 09:43:21&lt;/sys_created_on&gt;&lt;sys_id&gt;3d53a89b9768bd1051e136c71153af00&lt;/sys_id&gt;&lt;sys_mod_count&gt;13&lt;/sys_mod_count&gt;&lt;sys_name&gt;GetUserByID&lt;/sys_name&gt;&lt;sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Oracle Identity Management for User Management"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_3d53a89b9768bd1051e136c71153af00&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-08-25 10:43:14&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="User Management"&gt;b070e0e8479c7550d614699e536d439b&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>-314795359</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>77ce821747253190d614699e536d432d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a2c4a81500000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>GetUserByID</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>29ba15ba8f3071900e51d93203c02c8a</update_guid>
<update_guid_history>29ba15ba8f3071900e51d93203c02c8a:-314795359,77f9d57a783071907889c1afe3a7923a:488818949,7ed99df632307190fc443764f790b648:91549024,aa29993a36307190a55c945e3f6f79e2:-365636154,b5c89df6823071902ba281c84e22c109:-1450619918,eac70ecafe787d50a687795bbf6b894f:1705221612,e37f21c21f387d50f1bc4b1bf7ed491b:1580927706,b46f298666387d507d5a6376a394d9d4:-1252302803,e1439cd4b3bc355041e9cdda18c1b72f:705948532,d7a6c458937c35503749a297c40c2d39:2096356812,8aa29dd3b124fd10ab59545b5310a2a1:-1146285920,63429dd31624fd108a5ae67d24aa2f9e:1394387199,94d0dd539d24fd10ec22af6154b883a3:-957727936,c183a01fca68bd10cec402f7cc85939b:1782450824</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_query_parameter_map_ee2d001f9760bd1051e136c71153af50</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ws_query_parameter_map"><sys_ws_query_parameter_map action="INSERT_OR_UPDATE"><sys_class_name>sys_ws_query_parameter_map</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-14 08:06:34</sys_created_on><sys_id>ee2d001f9760bd1051e136c71153af50</sys_id><sys_mod_count>0</sys_mod_count><sys_name>c83d001f9760bd1051e136c71153af8f</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_ws_query_parameter_map_ee2d001f9760bd1051e136c71153af50</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-14 08:06:34</sys_updated_on><web_service_operation display_value="GetUserData">c6320e8147103950d614699e536d43f2</web_service_operation><web_service_query_parameter display_value="sysparm_query">c83d001f9760bd1051e136c71153af8f</web_service_query_parameter></sys_ws_query_parameter_map></record_update>]]></payload>
<payload_hash>-1002354720</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>77ce821747253190d614699e536d434a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>189f3151be00000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>c83d001f9760bd1051e136c71153af8f</target_name>
<type>Scripted REST Query Parameter Associatio</type>
<update_domain>global</update_domain>
<update_guid>9f5dc4938aa0bd1064df4e7e8dc24a42</update_guid>
<update_guid_history>9f5dc4938aa0bd1064df4e7e8dc24a42:-1002354720</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_properties_132ba18297387d5051e136c71153afa4</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description/><ignore_cache>true</ignore_cache><is_private>false</is_private><name>x_paler_oracle_ide.group_field_json</name><read_roles/><suffix>group_field_json</suffix><sys_class_name>sys_properties</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-23 04:00:02</sys_created_on><sys_id>132ba18297387d5051e136c71153afa4</sys_id><sys_mod_count>10</sys_mod_count><sys_name>x_paler_oracle_ide.group_field_json</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_properties_132ba18297387d5051e136c71153afa4</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-09-20 05:25:54</sys_updated_on><type>string</type><value>parent,manager,roles,sys_mod_count,active,description,source,sys_updated_on,sys_tags,type,sys_id,sys_updated_by,cost_center,default_assignee,sys_created_on,email,name,include_members,sys_created_by,exclude_manager</value><write_roles/></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=132ba18297387d5051e136c71153afa4"/></record_update>]]></payload>
<payload_hash>-2124185359</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>7bce821747253190d614699e536d4324</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18ab10d50e60000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>x_paler_oracle_ide.group_field_json</target_name>
<type>System Property</type>
<update_domain>global</update_domain>
<update_guid>226b0a47d15d3150b1feb0b3bd35bdd6</update_guid>
<update_guid_history>226b0a47d15d3150b1feb0b3bd35bdd6:-2124185359,45d68a03eb5d3150813671b3dc514428:-1969765438,7286ca43ff5d315067ad622fe0404dce:14119980,e7cefdb60b99fd10373188d8bf6dd07d:1708312044,74ca453ef8d5fd107a95681a00a49264:-843000003,e517d1a3f2743d50add48d15bcd446f7:-483822405,fce6d1a3bb743d50db4d74df837af5c5:-843000003,b6a6dd23a1743d50614fe60557640c92:-483822405,17e2996f32343d50829cbd9b0ef161c0:737240982,243cadc2ea387d50771d77c8c5218f50:1591453529,373b21c237387d501485af7ba9ff0f49:-1467604765</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_578d88d397a0bd1051e136c71153af03</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-14 08:07:23</sys_created_on><sys_id>578d88d397a0bd1051e136c71153af03</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Glide API: string utilities</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_578d88d397a0bd1051e136c71153af03</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-14 08:07:23</sys_updated_on><target_name>Glide API: string utilities</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>411223509</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>7bce821747253190d614699e536d4326</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>189f315dd030000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>Glide API: string utilities</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>978d88d3b0a0bd109267c09b42463c05</update_guid>
<update_guid_history>978d88d3b0a0bd109267c09b42463c05:411223509</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_a558d76847cd3190d614699e536d43d9</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-31 06:21:28</sys_created_on><sys_id>a558d76847cd3190d614699e536d43d9</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ScriptableRESTMessageClient.setRequestHeader</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_a558d76847cd3190d614699e536d43d9</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-31 06:21:28</sys_updated_on><target_name>ScriptableRESTMessageClient.setRequestHeader</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>-414894943</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>7bce821747253190d614699e536d4329</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a4a41003b0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>ScriptableRESTMessageClient.setRequestHeader</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>a558d768f6cd319005ffc02da00fcfda</update_guid>
<update_guid_history>a558d768f6cd319005ffc02da00fcfda:-414894943</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_14753f964755bd10d614699e536d4314</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;POST&lt;/http_method&gt;&lt;name&gt;RemoveRole&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
    var requestBody = request.body.data; // pass user ID and group ID in the request body
    var userId = requestBody.user;
    var roleId = requestBody.role;
	var sys_id;
    var userRecord = new GlideRecord('sys_user');
    if (userRecord.get(userId)) {
        // User found
        var roleRecord = new GlideRecord('sys_user_role');
        if (roleRecord.get(roleId) ) {
            // Role found
            var userRoleRecord = new GlideRecord('sys_user_has_role');
            userRoleRecord.addQuery('user', userId);
            userRoleRecord.addQuery('role', roleId);
            userRoleRecord.query();
            if (userRoleRecord.next()) {
                // User is part of the role then remove the role from user
				
				userRoleRecord.deleteRecord();
                    response.setStatus(200);
                    response.setBody({
                        message: "Role removed from user successfully"
                    });
            } else {
                // User is not part of the role
                response.setStatus(404);
                response.setBody({
                    error: "User is not part of the role"
                });
            }
        } else {
            // role not found
            response.setStatus(404);
            response.setBody({
                error: "Role not found"
            });
        }
    } else {
        // User not found
        response.setStatus(404);
        response.setBody({
            error: "User not found"
        });
    }
})(request, response);

]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_paler_oracle_ide/user_management/rm_role&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/rm_role&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;requires_snc_internal_role&gt;true&lt;/requires_snc_internal_role&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-09-18 05:18:17&lt;/sys_created_on&gt;&lt;sys_id&gt;14753f964755bd10d614699e536d4314&lt;/sys_id&gt;&lt;sys_mod_count&gt;7&lt;/sys_mod_count&gt;&lt;sys_name&gt;RemoveRole&lt;/sys_name&gt;&lt;sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Oracle Identity Management for User Management"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_14753f964755bd10d614699e536d4314&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-09-27 11:10:05&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="User Management"&gt;b070e0e8479c7550d614699e536d439b&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1794505040</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>7bce821747253190d614699e536d432c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18ad654f1850000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>RemoveRole</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>705d1f1522a9b150a0faa538fb6616eb</update_guid>
<update_guid_history>705d1f1522a9b150a0faa538fb6616eb:-1794505040,f04dd3158fa9b15036a6d5150ccdd38a:503907350,500d1b152ba9b1501744a76f3d84395c:-1794505040,9283c8a28995bd1060924a1af435fdb2:503907350,0ca7331a8555bd103c94f9dc2bfd6aeb:-728656148,b9273bd6d155bd10a301f2a97ce9d23d:-1075505679,6707331ace55bd107fbf109f5b3ad0ac:146563092,6b7633d6a855bd10a0f8e8a45e1ec847:1396793754</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_c94209fd47c57590d614699e536d43a4</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;GET&lt;/http_method&gt;&lt;name&gt;UserWithEntitlement&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {

    var limit = parseInt(request.queryParams.sysparm_limit) || 100; // Default to 10 if not provided
    var offset = parseInt(request.queryParams.sysparm_offset) || 0; // Default page number
	var writer = response.getStreamWriter();
    var userRecords = [];
    var grUser = new GlideRecord('sys_user');
	//grUser.setLimit(limit);
    grUser.query(); // Retrieve all users

	
    var startRecord = (offset - 1) + limit;
    var endRecord = startRecord + limit;
	gs.info("endRecord " + endRecord);
	
    var recordCounter = 0;

    var fields = gs.getProperty("x_paler_oracle_ide.fields_json").split(",");
	var fieldsRole = gs.getProperty("x_paler_oracle_ide.role_field_json").split(",");
	var fieldsGroup = gs.getProperty("x_paler_oracle_ide.group_field_json").split(",");
    gs.info("This is to check the array - " + fields[1]);

    while (grUser.next() &amp;&amp; recordCounter&lt;=endRecord) {
		var user = {};
		var sys_id="";
		var groups=[];
		var userRole = [];
		gs.info("grUser- user Name" + grUser["name"]);
        if (recordCounter &gt;= startRecord) {
			sys_id=grUser.getUniqueValue();
			for (var i in fields) {
				user[fields[i]] = grUser.getValue(fields[i]);
				if(user[fields[i]]==null){
					user[fields[i]]="";
				}
			}
			
		//foruser group
		var groupMembershipGr = new GlideRecord('sys_user_grmember');
        groupMembershipGr.addQuery('user', sys_id);
        groupMembershipGr.query();
		var group={};
        while (groupMembershipGr.next()) {
            var groupId = groupMembershipGr.group.toString(); // Convert the group to a string
			//var groupName = groupMembershipGr.get(name).toString(); // Convert the group to a string
			group.group_sys_id=groupId;
			for (var j in fieldsGroup) {
				group[fieldsGroup[j]] = groupMembershipGr.getValue(fieldsGroup[j]);
// 				if(group[fieldsGroup[j]]==null){
// 					group[fieldsGroup[j]]="";
// 				}
			}
			//group.description=groupMembershipGr.getDisplayValue();
// 			var roleNameGr=new GlideRecord('sys_user_group');
// 			roleNameGr.addQuery('group',groupId);
// 			roleNameGr.query();
// 			var name=roleNameGr.getDisplayValue();
// 			group.name=name;
            groups.push(group);
			group={};
        }
			user.group=groups;
			
			

        //for user role
        var groupMembershipRole = new GlideRecord('sys_user_has_role');
        groupMembershipRole.addQuery('user', sys_id);
        groupMembershipRole.query();
		var role={};
        while (groupMembershipRole.next()) {
            var roleId = groupMembershipRole.role.toString(); // Convert the group to a string
			var sys_updated_on=groupMembershipRole.getValue(sys_updated_on);
			//var groupName = groupMembershipGr.get(name).toString(); // Convert the group to a string
			for (var k in fieldsRole) {
			role[fieldsRole[k]] = groupMembershipRole.getValue(fieldsRole[k]);
// 				if(role[fieldsRole[k]]==null){
// 					role[fieldsRole[k]]="";
// 				}
			}
			role.role_sys_id=roleId;
			//role.sys_updated_on=sys_updated_on;
            userRole.push(role);
			role={};
        }
		user.role=userRole;
			userRecords.push(user);
		}
		
		
		
        recordCounter++;
    }

    var nextoffset = offset + 1;
    var hasNextPage = recordCounter &gt; endRecord;

    var responseBody = {
		offset:offset,
		page_size:limit,
		has_next_page:hasNextPage,
		result:userRecords
	};

    response.setContentType('application/json');
    response.setStatus(200);
    //response.setBody(userRecords);
	response.setBody(writer.writeString(JSON.stringify(responseBody)));

})(request, response);
]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_paler_oracle_ide/user_management/users&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/users&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;requires_snc_internal_role&gt;true&lt;/requires_snc_internal_role&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-09-03 16:42:57&lt;/sys_created_on&gt;&lt;sys_id&gt;c94209fd47c57590d614699e536d43a4&lt;/sys_id&gt;&lt;sys_mod_count&gt;129&lt;/sys_mod_count&gt;&lt;sys_name&gt;UserWithEntitlement&lt;/sys_name&gt;&lt;sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Oracle Identity Management for User Management"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_c94209fd47c57590d614699e536d43a4&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-09-22 03:04:02&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="User Management"&gt;b070e0e8479c7550d614699e536d439b&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1142093568</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>7bce821747253190d614699e536d432f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18abad827920000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>UserWithEntitlement</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>c42ef7e320d1f15090c1e55c8099e815</update_guid>
<update_guid_history>c42ef7e320d1f15090c1e55c8099e815:-1142093568,4a77542b3bd1b150c80fde9cdbc3f31c:-149511089,1731d3539d11b150b9b17ddad3de4c1a:2020354501,b4ec4e479d5d315067e59b7d56d314fc:1323936449,acbc4a87175d31509b17592b65551940:-795676467,d001deb2c7d9fd10054f630c1c787e34:1323936449,a8b0163602d9fd1013a9ad9b602ba80f:1163223041,91805e32c9d9fd10465eabf693e21d39:1672718759,10209ef291d9fd103e72fcb5d00f3cf0:-1056371808,208c82bee399fd10de97e1f834fc1383:1859466489,2f2c027e1f99fd1027fab3c49b7b6fae:1169434045,23fb4a3254d9fd105d5d9d763a07c791:2042807996,79cb867ec399fd1003adb3ec2e04f4f2:1162805180,139b8632b9d9fd10d74bcef4918bb593:-2089508218,ff06423ec699fd10a9fd88cec5a4f434:1485060576,a58406f61199fd10cfaab97035dcec3b:1426240006,c92006f64199fd10758d3fcba82123d5:1485060576,489cf1369499fd10c510ef441b5ca8a0:-836014914,8c5c79b2b799fd10e01ba0ce1a44ef94:-861976810,581c35362b99fd109adb0849329b771a:497969170,96abf536e199fd10f37238b0f066317e:1458145539,b36bf1363099fd10b48e9283a19a709c:1947147167,66da75b26499fd100c9022e1ef8df004:-103394117,a58979b22199fd10d03bfbf75de266c7:943076564,8d5979b26e99fd10042cc4f99090636b:1196266271,313971b2b199fd10965af07b4089abc5:691498772,3d1935b25099fd103d881e73e128f5f4:1818878495,a9e871b29199fd10720ec90b665f47bf:1947147167,f7a835fe5e59fd10a4430b3e27811074:657271573,8978b972f299fd1000f66b6474bfe9f0:1078969077,6d3875721f99fd10d889a15f1d13d03c:2019681375,f51835fee259fd10144e0fcffc49e770:-175588844,d757b132a999fd1009cefe0a2f725d39:148633472,4a277932b099fd10fcd3d882c9d82542:1813509811,ca86797e0e59fd10936b4de6031484ed:-1592129373,0e6675fe5d59fd10a53e27e654e3c41b:910140917,ef1671fe6b59fd1020086eb85ec65f82:-2013571496,59d5f57e9c59fd105b15fd240ca80130:1803442313,92d4f5be5a59fd10c20d840bf9b3c8d6:-2024615130,b22651b65619fd10ea7a25c436164983:1527338726,9a19d5e5b155b910c6d68aa69aefa965:1567346,ae137029d3d1b9102ae6723f6d4fc785:-100982856,7c727029b1d1b91081d1e7c52d871fcc:-130417348,2c1f28a569d1b910f001f19ce275c8cc:-100982856,ffae6ca51dd1b91007e89b4160374d98:-1414574565,5f2e68a54ad1b9108c0f4458ca2c181a:1158784295,15adaca5d3d1b910a37ad2b8214815ed:1643829265,919daca542d1b9103e5202a6d1614627:-1217509327,f28de0e176d1b910100a78079c14faa6:1643829265,d43d28a5f9d1b910bf0f1d18ad53ec6a:-21540111,9f1a2ce17bd1b910375ff48e5ea64832:752427353,53e9a021a4d1b9106c3ee4d35977ae2f:1881591253,9eb96c6109d1b910ae579ebfdda16787:2074397049,77c86c617fd1b9106f8c9d93c3b3cf84:-766746392,0ce5a4210bd1b9108022ddd191671aff:1104092900,c8a5a46d7791b910ca1e1ed093a14f50:1455616549,8fe3ecad5891b9100b6086368623e7a4:1104092900,58a3e8ade191b91060057a5094eb091e:349763197,ef73ec2d1d91b910b25ca7420a6b288d:-1760452,9063ec2d9691b910d93c859c6838d0b3:2060152288,893360ad8691b910873e2a9bd34dc31e:-744451603,96d02ce94891b910dea87d46a2f61042:524848579,58c02ce90991b9106d07db78762dd85b:1750139235,39a068e91b91b910379d813264d22aa2:-1813420925,e810aca9c891b9108128344a1d2fdd74:-1361734116,4d7f94a93b91b9100e471937a408749b:945564411,f42f94a93591b9100e63cfa99f564d96:-1361734116,67fd1069dc91b910f4e023012f626093:463900276,ef8dd0699191b9105f7ed0804ede87f6:-515145393,485d5c29a891b910774832834d95af07:-1329188475,2d0d9429d491b910e6b10df92c9068ff:-1420475944,35bb94658a91b9109143a1cd1c363a3b:-952588603,d28ff6e09755b5103f72cf9d6671e1d4:-1490486426,768e76e0f355b51082d52f5da63f421f:-953564327,2768c2288391b5102a930432e3a9097a:-499204263,b9580228cc91b5109dc40890879375a2:1977046332,323802282c91b510146f7f5beb89ab8d:-236943609,313d25dc01d175109b20cbd0eaeb9435:-499204263,6a6bed5cdfd17510e64a02df327ff4b4:-655310977,a71be55c1cd17510c8764153f083c4b0:1249172971,7be5e1ef4805b1100bdb5f7abe2a065a:39437093,adb5a1af9305b110f3f63566d88fd60c:-45983081,728421af4b05b110e55ab962991c71ad:-1739197446,7f64a96ff105b11063dc588106325795:704607246,a06225ab7005b110392557007e31587d:8569332,c6526deb2b05b110781f8d1c6fbdf463:-1388509588,bce1e5ab4d05b110b020ac6ffa326ad3:-1673059220,3cb125abb705b11028020cc105c35588:-1374475835,c7802d6bcc05b11095663e8ff83676b4:278256974,0f0061ab3605b1106f5bee96c91658b2:-881471051,1fcf1d6bf405b110585239b8399cc92d:1294279009,24fbec1f4a0171107f333f1a30c2791e:-1080165285,bf01c4860dc5b590856bdb8e926a3078:-1892281393,88908cc2e4c5b59068e332db8d6378ff:1204037893,c1708402bfc5b5907e5eab263887e17f:448707130,991008c2ebc5b590cbcf388f5d53c9c5:1262093174,a7efb3b19cc5b5904972a3f40983e4c3:-2102866747,03cb37b1f0c5b590995a14f87f791fc9:931611784,52abbffd4785b590d8e06bfb33bb2131:-83704024,bf16bbb5a885b59041669988a553bfd4:-789757390,1cc863b19285b590acfe9f240b8052ca:1076225070,095863b13785b590a97ad9bead58b53a:2002837779,1dc7ef716f85b59046b46a429f082227:104082578,f967ef316f85b5900e25e4b1704b4785:-1660517275,ffd6ab314485b590294e265b94d38a66:-111055319,a5b6ef312885b59045758880ee7a9155:-868489942,a396ef315c85b5909f25c6c43d161a2c:-2067489506,a236ab313b85b590db6f1990c93b8143:104082578,73f5a331e485b590e042fa6d4857a9fc:-1266756813,cfd563316f85b590bc881916e21c4ae5:-2067489506,5ca56fbd6645b590eb6b80dc9987feb0:-1009588015,d1756fbd2345b5909de63c406298f7ad:1762365585,3c67cdb1d1097590f0419cddc3b76385:-753065152,e14749f123097590e8fa43a0b8e31d71:-2014047744,5e6689b10d0975906622137fd06b9d34:1378154446,795605b173097590d1b86c82e239069f:1647747975,9f36cd71a409759060466c16e7824b65:1722139057,da750571680975903bf29502ef1af84e:-3146483,485501b1ce0975901c613e4229babcd3:-1269048114,984501b10309759027f12ae401102a9e:1081350540,fb25897142097590c26e31adc4a3039d:-1016910281,7d940931c109759072e78d48f64f4b95:1156983243,49848571730975904868cf4d02a32745:-2075252597,2a540571a1097590afa6eb10bea07447:-1853427160,e13481716109759024336c08f04ffe55:169320999,2d24c9314a09759076ac9db307aeb21f:-1916730041,c114c931380975904b774569511ac51c:2080438126,b7b30d3130097590df7565eb9be35237:-1238160326,6693c1fd35c5759038bd1aeec076066d:320597296,26538531ef097590d61bc30740798688:-1823068410</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_query_parameter_ec96c01f97ec7d1051e136c71153af7f</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ws_query_parameter"><sys_ws_query_parameter action="INSERT_OR_UPDATE"><example_value/><name>sysparm_limit</name><required>false</required><short_description>Query parameter to limit the number of record</short_description><sys_class_name>sys_ws_query_parameter</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-14 07:37:46</sys_created_on><sys_id>ec96c01f97ec7d1051e136c71153af7f</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sysparm_limit</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_ws_query_parameter_ec96c01f97ec7d1051e136c71153af7f</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-14 07:37:46</sys_updated_on><web_service_definition display_value="User Management">b070e0e8479c7550d614699e536d439b</web_service_definition></sys_ws_query_parameter></record_update>]]></payload>
<payload_hash>1501147142</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>7bce821747253190d614699e536d4349</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>189f2fabe5f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>sysparm_limit</target_name>
<type>Scripted REST Query Parameter</type>
<update_domain>global</update_domain>
<update_guid>d5c6481f3aec7d10feb5428aebf2c4d0</update_guid>
<update_guid_history>d5c6481f3aec7d10feb5428aebf2c4d0:1501147142</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_1320123647d9fd10d614699e536d4336</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-09-19 11:08:13</sys_created_on><sys_id>1320123647d9fd10d614699e536d4336</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ScriptableServiceResultBuilder.getStreamWriter</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_1320123647d9fd10d614699e536d4336</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-09-19 11:08:13</sys_updated_on><target_name>ScriptableServiceResultBuilder.getStreamWriter</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>-355456991</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>7fce821747253190d614699e536d4325</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18aad205cd20000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>ScriptableServiceResultBuilder.getStreamWriter</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>df201236cad9fd103791d35256015d37</update_guid>
<update_guid_history>df201236cad9fd103791d35256015d37:-355456991</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_a158d76847cd3190d614699e536d43db</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-31 06:21:28</sys_created_on><sys_id>a158d76847cd3190d614699e536d43db</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ScriptableRESTMessageClient.setRequestBody</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_a158d76847cd3190d614699e536d43db</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-31 06:21:28</sys_updated_on><target_name>ScriptableRESTMessageClient.setRequestBody</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>-681321791</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>7fce821747253190d614699e536d4328</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a4a41004e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>ScriptableRESTMessageClient.setRequestBody</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>a158d76886cd3190f8e87cb61815b1dc</update_guid>
<update_guid_history>a158d76886cd3190f8e87cb61815b1dc:-681321791</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_e2b91e0997d0355051e136c71153afb8</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-07-26 08:17:47</sys_created_on><sys_id>e2b91e0997d0355051e136c71153afb8</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ScriptableServiceResultBuilder.setBody</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_e2b91e0997d0355051e136c71153afb8</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-07-26 08:17:47</sys_updated_on><target_name>ScriptableServiceResultBuilder.setBody</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>2065942465</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>7fce821747253190d614699e536d432b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18991468fdc0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>ScriptableServiceResultBuilder.setBody</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>e2b91e096bd0355044091ffbe95b41b9</update_guid>
<update_guid_history>e2b91e096bd0355044091ffbe95b41b9:2065942465</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_ae8c49d197e4b11051e136c71153afd5</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="DELETE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;GET&lt;/http_method&gt;&lt;name&gt;pagination_user_management&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {

    // implement resource here
	// implement resource here
	var req = request.queryParams.query;
	var results = [];
	var result;
	var fields = gs.getProperty("x_paler_oracle_ide.fields_json").split(",");
	gs.info("This is to check the array - " + fields[1]);
	var field;
	//var i;
	//gs.info("This request is coming from payload - " + req);
	var gr = new GlideRecord("sys_user");
	gr.addEncodedQuery(req);
	gr.query();
	while (gr.next()) {
		result = {};
		for(var i in fields)
			{
				result[fields[i]] = gr.getValue(fields[i]);
			}
		results.push(result);
		gs.info("This is response JSON" + result);
	}

	

})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_paler_oracle_ide/user_management/pagination&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/pagination&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;requires_snc_internal_role&gt;true&lt;/requires_snc_internal_role&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-08-08 07:51:42&lt;/sys_created_on&gt;&lt;sys_id&gt;ae8c49d197e4b11051e136c71153afd5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;pagination_user_management&lt;/sys_name&gt;&lt;sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Oracle Identity Management for User Management"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_ae8c49d197e4b11051e136c71153afd5&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-08-08 07:51:42&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="User Management"&gt;b070e0e8479c7550d614699e536d439b&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>1505395895</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>7fce821747253190d614699e536d432e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>189f310450f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>pagination_user_management</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>392c0cdbfd60bd10a26f65af0a60c21f</update_guid>
<update_guid_history>392c0cdbfd60bd10a26f65af0a60c21f:1505395895,8f60d1d53ce4b110d188b9bb26db5241:-447238741</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_f8be852f47343d50d614699e536d43d2</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;GET&lt;/http_method&gt;&lt;name&gt;GetDepartment&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {

    var departmentRecords = [];
    var grDepartment = new GlideRecord('cmn_department');
	//grDepartment.setLimit(limit);
    grDepartment.query(); // Retrieve all Groups
	var writer = response.getStreamWriter();

    var recordCounter = 0;

    var fields = gs.getProperty("x_paler_oracle_ide.department_field_json").split(",");
    gs.info("This is to check the array - " + fields[1]);


    while (grDepartment.next() ) {
		var department = {};
		gs.info("grDepartment- user Role" + grDepartment["name"]);
 
              for (var i in fields) {
			department[fields[i]] = grDepartment.getValue(fields[i]);

		}
			if(department!={}){
				departmentRecords.push(department);
			}

    }


    var responseBody = {
        result: departmentRecords,
    };

    response.setContentType('application/json');
    response.setStatus(200);
    response.setBody(writer.writeString(JSON.stringify(responseBody)));

})(request, response);
]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_paler_oracle_ide/user_management/department&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/department&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;requires_snc_internal_role&gt;true&lt;/requires_snc_internal_role&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-08-27 17:51:35&lt;/sys_created_on&gt;&lt;sys_id&gt;f8be852f47343d50d614699e536d43d2&lt;/sys_id&gt;&lt;sys_mod_count&gt;38&lt;/sys_mod_count&gt;&lt;sys_name&gt;GetDepartment&lt;/sys_name&gt;&lt;sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Oracle Identity Management for User Management"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_f8be852f47343d50d614699e536d43d2&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-09-28 22:45:42&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="User Management"&gt;b070e0e8479c7550d614699e536d439b&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>617745566</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>7fce821747253190d614699e536d4348</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18addf8298a0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>GetDepartment</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>98268bfd5ea93550995daa75134ad44a</update_guid>
<update_guid_history>98268bfd5ea93550995daa75134ad44a:617745566,fcde6fe1ebedf150963eb75bca99a4b9:205126788,8885a47ff9d5f910aa6924b0efdc3bfe:-1914185065,5e65e033cc19f91010236875ac10cab6:1335128309,0f55e033a419f91075c3c8975f499508:136674582,fb974cbbe2d1f15005e1bbf0bbf43362:-1914185065,5997c8bb3bd1f15034069b5ecd511d6c:-1667962238,ee77c43b87d1f150178512146cdb959e:-1421259069,fe674c7b7bd1f15073465f346c793e9f:-423895198,d657c87be6d1f150f9ba0f26982229ee:89972899,f0470c7b98d1f15014eb8389099e4310:-334864350,ff56c87bdfd1f150bade1219b43aabe4:957238401,df16087b1ad1f150d61bba5122831df9:-423985988,a1f588f783d1f15044d3a16d42d92f35:-2002464614,f5e5807b8fd1f15069886feccc745d4d:-585651845,14b5843b43d1f150652a2d3da1200beb:-2022530502,7685c03bf6d1f150fb9cc530cdc8349e:1158367130,e9d4c43b4ad1f150c8f82021887e12c2:-800009034,adc4803b55d1f150a89d5cc68cf175cf:636869623,79b4c43bf0d1f150b04d01a3850ef7a0:584431446,8a944cf746d1f1505c5414c16b298105:1819649530,7164c03b5bd1f1504ef1ed0da70c2498:1813911833,f1548cf794d1f1506712575a5c52716d:1808174136,ab344cf7cdd1f150b479b7371c725d00:1860612313,db24003b89d1f1505f26670c5878c201:737341629,fd048cf7fcd1f150f667a11e79b56428:1519568313,5744d523a1743d5003a0fc6df3332c40:-636419027,e68295ef15343d50daef7be0ac0d2ecd:1545772937,39521d6f15343d50873e56c0b061d481:1730576782,a22291ef5a343d50b9307f2161090c79:1382076310,54b195af22343d50964305f303da8831:-2117968353,1991d96f94343d50d0b18fa4a53f123e:-1129702661,192191afab343d5049a2596a6d9c0b8c:-1665862516,8801596f12343d505cc85fd532b6484a:1589760765,5370d96f0e343d5058bd5d337fd44938:-1058636924,2460596fad343d5061d3c0fe6d60b445:276927908,0540d52ff1343d50630bb3d7822e9bb1:-1456718308,1900956f6b343d507bd8bbe89206f344:1522355776,fbef856f3f343d506f2c3b35c9684c11:1337862477</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_65589f6847cd3190d614699e536d43b8</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-31 06:21:28</sys_created_on><sys_id>65589f6847cd3190d614699e536d43b8</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ScriptableRESTResponse.getBody</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_65589f6847cd3190d614699e536d43b8</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-31 06:21:28</sys_updated_on><target_name>ScriptableRESTResponse.getBody</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>1129171393</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>b3ce821747253190d614699e536d4327</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a4a4100770000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>ScriptableRESTResponse.getBody</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>65589f68bdcd3190f479b0fbd606ecb9</update_guid>
<update_guid_history>65589f68bdcd3190f479b0fbd606ecb9:1129171393</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_adb5783d97f03d5051e136c71153af3d</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-22 05:27:40</sys_created_on><sys_id>adb5783d97f03d5051e136c71153af3d</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ScriptableServiceResultBuilder.setStatus</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_adb5783d97f03d5051e136c71153af3d</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-22 05:27:40</sys_updated_on><target_name>ScriptableServiceResultBuilder.setStatus</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>1087494465</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>b3ce821747253190d614699e536d432a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a1bb682500000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>ScriptableServiceResultBuilder.setStatus</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>adb5783d49f03d5027d56c9276d5653e</update_guid>
<update_guid_history>adb5783d49f03d5027d56c9276d5653e:1087494465</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_355c6c9e470df590d614699e536d433e</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;POST&lt;/http_method&gt;&lt;name&gt;RemoveGroup&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
    var requestBody = request.body.data; // pass user ID and group ID in the request body
    var userId = requestBody.user;
    var groupId = requestBody.group;
	var sys_id;
    var userRecord = new GlideRecord('sys_user');
    if (userRecord.get(userId)) {
        // User found
        var groupRecord = new GlideRecord('sys_user_group');
        if (groupRecord.get(groupId) ) {
            // Group found
            var userGroupRecord = new GlideRecord('sys_user_grmember');
            userGroupRecord.addQuery('user', userId);
            userGroupRecord.addQuery('group', groupId);
            userGroupRecord.query();
            if (userGroupRecord.next()) {
                // User is part of the group then remove the group
				
				userGroupRecord.deleteRecord();
                    response.setStatus(200);
                    response.setBody({
                        message: "Group removed from user successfully"
                    });
            } else {
                // User is not part of the group
                response.setStatus(404);
                response.setBody({
                    error: "User is not part of the group"
                });
            }
        } else {
            // Group not found
            response.setStatus(404);
            response.setBody({
                error: "Group not found"
            });
        }
    } else {
        // User not found
        response.setStatus(404);
        response.setBody({
            error: "User not found"
        });
    }
})(request, response);

]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_paler_oracle_ide/user_management/rm_group&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/rm_group&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;requires_snc_internal_role&gt;true&lt;/requires_snc_internal_role&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-09-05 04:20:14&lt;/sys_created_on&gt;&lt;sys_id&gt;355c6c9e470df590d614699e536d433e&lt;/sys_id&gt;&lt;sys_mod_count&gt;48&lt;/sys_mod_count&gt;&lt;sys_name&gt;RemoveGroup&lt;/sys_name&gt;&lt;sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Oracle Identity Management for User Management"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_355c6c9e470df590d614699e536d433e&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-09-27 11:08:18&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="User Management"&gt;b070e0e8479c7550d614699e536d439b&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>566752267</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>b3ce821747253190d614699e536d432d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18ad6534f550000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>RemoveGroup</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>22ecd71567a9b1504c1cadf1fc6caeb7</update_guid>
<update_guid_history>22ecd71567a9b1504c1cadf1fc6caeb7:566752267,20660d9cf351751068d7052e04f63256:-642041987,b3ebf0542c5175107864931949b63440:565660879,f3eab494b15175109a10fcf149d1d390:-1894806824,85610f6e4d4179900e72eb17a52fe061:1755256146,4b6043ae94417990b29984f2ab3d23c3:-1397128989,bd0f7a6e1c417990c6547113f1b548fc:-760064711,5fde322e4441799060e5c83e6cffe43e:-102982095,9d3e726e66417990c21a3d6a9ddc465f:1344910869,c31ef26a36417990b1e681c764c20df2:-68429291,1e363e6673417990cfc94e215205e2b4:22938955,94367e66b341799024e6764b9553b205:1510638125,1e163666ae417990eb1d3fa2bef921c4:1651660749,b3b3fae259417990fdb18df57ea70a42:730177625,da837662ce41799020ec8ef10f2097ba:-8587516,616376e25141799047069f4ac0e06074:1328775453,e813b6a2ac41799085d8e2bb7a0b7423:1687490611,ca1975a22b8d3990fab11040c94de459:1328775453,9088b562028d399090729cb81a67f1ad:1630677144,605875a2a18d3990da6337ac147ff895:622954784,fc3879ee1e4d399035056513572c2c4b:940270191,ddf7b5ee0a4d39905d1518df1cbf776c:-1704831133,d2d671221b8d3990b655e17b6633db8b:-1092616814,02a6f162a88d3990db4120056c8423ef:80967701,573679ee4b4d3990b68b23f0be3dd644:205008279,4e267122028d39902786f626c9c63a85:1982172770,45b5f92e0c4d39901a1e1bfce245ef6f:-1042105187,c28439ee104d3990078df7549f9764f6:-172162609,10bc831a9445399048bfdb22aeb3b22f:-1956108893,3e7c8b9652453990a609b6107a88ecae:520842909,e9eb0f96c9453990bdc8f5f297af4654:1238773748,2bcb87d6f0453990e77e7dcf0bddfff5:-2004050607,198b03d6ff4539907e3e9b6e834647c8:-2023495385,2e1bcb96c9453990cccd3835afe73002:-624478223,59ba0f96dd45399017867acf5958ff4e:-831860869,4cd08a1e0741399002d65a03e8b3c911:-1863864631,f960421e7e4139909c1101663afdea8c:-1554782061,8c50421ea7413990059e40368cb50cfd:1076274090,2c20069ac541399051a533bdb3ce8aae:1743315754,4610021af341399097a4712600c75374:852465325,f5ca311a39413990d2f4a029d0cdc939:-11988243,712af5d631413990c2419f48e42cf623:1774332135,aeb93996094139902b087113c65c494c:-1863864631,2428785e304df590faa027ffc0c1ced5:1650738720,42c4b8dab94df590adc9e6f4196ddab7:1077836681,ec527c5ab54df590605d21704c3f2f45:839629710,5b40b01a524df59066909abbdc396081:-2101648433,c39c6416f44df590f956187aa8278a2b:847538499,6a8ce8167e4df59025a6b236a83f6ad9:1544007241</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_query_parameter_map_d686cc5b97ec7d1051e136c71153afd3</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ws_query_parameter_map"><sys_ws_query_parameter_map action="INSERT_OR_UPDATE"><sys_class_name>sys_ws_query_parameter_map</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-14 07:37:51</sys_created_on><sys_id>d686cc5b97ec7d1051e136c71153afd3</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ec96c01f97ec7d1051e136c71153af7f</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_ws_query_parameter_map_d686cc5b97ec7d1051e136c71153afd3</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-14 07:37:51</sys_updated_on><web_service_operation display_value="GetUserData">c6320e8147103950d614699e536d43f2</web_service_operation><web_service_query_parameter display_value="sysparm_limit">ec96c01f97ec7d1051e136c71153af7f</web_service_query_parameter></sys_ws_query_parameter_map></record_update>]]></payload>
<payload_hash>-117207959</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>b3ce821747253190d614699e536d434a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>189f2fad2480000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>ec96c01f97ec7d1051e136c71153af7f</target_name>
<type>Scripted REST Query Parameter Associatio</type>
<update_domain>global</update_domain>
<update_guid>a2c6009b94ec7d108faf6084894c3a15</update_guid>
<update_guid_history>a2c6009b94ec7d108faf6084894c3a15:-117207959</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_438dccf047817190d614699e536d435a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>create</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-31 10:13:57</sys_created_on><sys_id>438dccf047817190d614699e536d435a</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sys_user_has_role</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_438dccf047817190d614699e536d435a</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-31 10:13:57</sys_updated_on><target_name>sys_user_has_role</target_name><target_scope display_value="Global">global</target_scope><target_type>sys_db_object</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>-1776422735</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>b7ce821747253190d614699e536d4326</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a4b15d83c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>sys_user_has_role</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>478dccf014817190129669ed9201425b</update_guid>
<update_guid_history>478dccf014817190129669ed9201425b:-1776422735</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_a558d76847cd3190d614699e536d43d7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-31 06:21:28</sys_created_on><sys_id>a558d76847cd3190d614699e536d43d7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ScriptableRESTMessageClient.setEndpoint</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_a558d76847cd3190d614699e536d43d7</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-31 06:21:28</sys_updated_on><target_name>ScriptableRESTMessageClient.setEndpoint</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>-1228956847</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>b7ce821747253190d614699e536d4329</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a4a41002b0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>ScriptableRESTMessageClient.setEndpoint</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>a958d768bacd3190a41f30af1054c7d8</update_guid>
<update_guid_history>a958d768bacd3190a41f30af1054c7d8:-1228956847</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_0316532847cd3190d614699e536d4309</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;POST&lt;/http_method&gt;&lt;name&gt;CreateUser&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
    var userData = request.body.data; // pass user data in the request body
    
    var userRecord = new GlideRecord('sys_user');//user table
    userRecord.initialize();
    userRecord.first_name = userData.first_name;
	userRecord.user_name = userData.user_name;
	//userRecord.user_password=userData.user_password;
	//userRecord.user_password.setValue(userData.user_password);
	//userRecord.update();
     userRecord.last_name = userData.last_name;
	userRecord.middle_name = userData.middle_name;
     userRecord.email = userData.email;
	userRecord.title = userData.title;
	userRecord.department = userData.department;
	userRecord.phone = userData.phone;
	userRecord.mobile_phone = userData.mobile_phone;
	userRecord.password_needs_reset = userData.password_needs_reset;
	userRecord.locked_out = userData.locked_out;
	userRecord.date_format = userData.date_format;
	userRecord.calendar_integration = userData.calendar_integration;
	userRecord.time_zone = userData.time_zone;
	userRecord.web_service_access_only = userData.web_service_access_only;
	userRecord.internal_integration_user = userData.internal_integration_user;
	userRecord.active = userData.active;
    // Set other user field

    var sysId = userRecord.insert();
    if (sysId) {
        // User created successfully
        var createdUser = {
            sys_id: sysId.toString(),
            first_name: userData.first_name,
			user_name:userData.user_name,
            last_name: userData.last_name,
			middle_name:userData.middle_name,
			//user_password:userData.user_password,
            email: userData.email,
			title:userData.title,
			department:userData.department,
			phone:userData.phone,
			mobile_phone:userData.mobile_phone,
			password_needs_reset:userData.password_needs_reset,
			locked_out:userData.locked_out,
			date_format:userData.date_format,
			calendar_integration:userData.calendar_integration,
			time_zone:userData.time_zone,
			web_service_access_only:userData.web_service_access_only,
			internal_integration_user:userData.internal_integration_user,
			active:userData.active
            // Set other user field as needed
        };
        response.setStatus(201); // Created status code
        response.setBody(createdUser);
    } else {
        // Error creating user
        response.setStatus(500); // Internal Server Error
        response.setBody({
            error: "Error creating user"
        });
    }
})(request, response);
]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_paler_oracle_ide/user_management/create_user&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/create_user&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;requires_snc_internal_role&gt;true&lt;/requires_snc_internal_role&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-08-31 06:17:09&lt;/sys_created_on&gt;&lt;sys_id&gt;0316532847cd3190d614699e536d4309&lt;/sys_id&gt;&lt;sys_mod_count&gt;35&lt;/sys_mod_count&gt;&lt;sys_name&gt;CreateUser&lt;/sys_name&gt;&lt;sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Oracle Identity Management for User Management"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_0316532847cd3190d614699e536d4309&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-09-12 17:06:52&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="User Management"&gt;b070e0e8479c7550d614699e536d439b&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>42177975</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>b7ce821747253190d614699e536d432c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a8a5c32e70000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>CreateUser</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>302fdbe82595b510a283ba0d8e8fa7cc</update_guid>
<update_guid_history>302fdbe82595b510a283ba0d8e8fa7cc:42177975,44dc85a05e99b9d072d1d522e16afa87:156806263,3c7c89208c99b9d0cac8589386b996f2:1245986735,deea89207799b9d080a80b58395deded:-988903015,88e10c94af9d351009a709bed3aee37b:1814960900,69d184942b9d35109c5127798da04253:982575434,0fec7b04849d3510bd32e88182d9100b:-1511600892,d6dd6708e25d3510f1dfa671e350f202:-1074766701,42cd6308295d35103c7c90827bed0379:-896387501,dead2fc4945d351034f68acb73516a57:-1433810447,396debc4f85d3510dc24dfe2acd1f03c:-1211919414,f74d2fc4335d3510c4bb97af57cce743:-128110729,f33debc4a55d351047b17ff3d1025524:-990970702,00fbef44175d35103ed15d71691c45c2:194648096,74cb6b44c35d3510816b9956be1a9838:-1334633436,13bb6784665d35100995f27dc277123b:-683083132,d51b6b44995d35109a8efd4ba62ef032:-732053514,b2faebc00a5d35106062e6d35031384c:11728406,1ccae704175d35104bae3b20922e473e:-1412837521,83b9e704ad5d35108fff2b561ecc4720:-667826672,27011f3f08c5f110ae9445c8c41d45c2:-1600804976,3ffe8f3f07c5f110cd67375c0d4bcebd:-1715202354,029e516b0b05b110b5a65a3771326ae7:-237809078,067ed9a7b905b11072bebfb443c2e867:1955173196,0f1e99a7dc05b110a6f06f86591fa2f6:370755566,ce2d512bf905b1105d4bc3e42db8f96e:-529896510,3fba4197d781711089cbad7d6ca81413:1257192034,93323cdf6d0171102b75b5dbe4411136:-2064061572,c64ca416674df5902942b3c6ac30d175:-1128595844,ddfcdfe8d7cd319023a82a455b2be2eb:566316524,dbca1fe8a5cd31908f83f82601450ad7:-399757835,813a976819cd3190eb1548448d59423e:-2096282679,2ba9dfe4abcd31907597310fb731cac2:-484781509,04589f68d8cd31904d4326f2bebafc55:-276003320,67a7132884cd319096d5fdc61b3a44aa:-599526082,5a579368e2cd3190065683ecc822ba2e:376566412</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_c667a1af4705b110d614699e536d4352</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;GET&lt;/http_method&gt;&lt;name&gt;UserWithEntitlementByUserId&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {

	var userSysId = request.pathParams.user_id;
    var userRecords = [];
    var grUser = new GlideRecord('sys_user'); // Retrieve all users

    var fields = gs.getProperty("x_paler_oracle_ide.fields_json").split(",");
	var fieldsRole = gs.getProperty("x_paler_oracle_ide.role_field_json").split(",");
	var fieldsGroup = gs.getProperty("x_paler_oracle_ide.group_field_json").split(",");
  
	grUser.addEncodedQuery("sys_id=" + userSysId);
	grUser.query();
    if (grUser.next() ) {
		var user = {};
		var sys_id="";
		var groups=[];
		var userRole = [];
			sys_id=grUser.getUniqueValue();
			for (var i in fields) {
				user[fields[i]] = grUser.getValue(fields[i]);
				if(user[fields[i]]==null){
					user[fields[i]]="";
				}
			}
		//foruser group
		var groupMembershipGr = new GlideRecord('sys_user_grmember');
        groupMembershipGr.addQuery('user', sys_id);
        groupMembershipGr.query();
		var group={};
        while (groupMembershipGr.next()) {
            var groupId = groupMembershipGr.group.toString(); // Convert the group to a string
			//var groupName = groupMembershipGr.get(name).toString(); // Convert the group to a string
			group.group_sys_id=groupId;
			for (var j in fieldsGroup) {
				group[fieldsGroup[j]] = groupMembershipGr.getValue(fieldsGroup[j]);
// 				if(group[fieldsGroup[j]]==null){
// 					group[fieldsGroup[j]]="";
// 				}
			}
			//group.description=groupMembershipGr.getDisplayValue();
// 			var roleNameGr=new GlideRecord('sys_user_group');
// 			roleNameGr.addQuery('group',groupId);
// 			roleNameGr.query();
// 			var name=roleNameGr.getDisplayValue();
// 			group.name=name;
            groups.push(group);
			group={};
        }
			user.group=groups;
			
			

        //for user role
        var groupMembershipRole = new GlideRecord('sys_user_has_role');
        groupMembershipRole.addQuery('user', sys_id);
        groupMembershipRole.query();
		var role={};
        while (groupMembershipRole.next()) {
            var roleId = groupMembershipRole.role.toString(); // Convert the group to a string
			var sys_updated_on=groupMembershipRole.getValue(sys_updated_on);
			//var groupName = groupMembershipGr.get(name).toString(); // Convert the group to a string
			for (var k in fieldsRole) {
			role[fieldsRole[k]] = groupMembershipRole.getValue(fieldsRole[k]);
// 				if(role[fieldsRole[k]]==null){
// 					role[fieldsRole[k]]="";
// 				}
			}
			role.role_sys_id=roleId;
			//role.sys_updated_on=sys_updated_on;
            userRole.push(role);
			role={};
        }
		user.role=userRole;
		
		
		
		userRecords.push(user);
    }

  
// 		var responseBody = {
//         users: userRecords
//     };

    response.setContentType('application/json');
    response.setStatus(200);
    response.setBody(userRecords);

})(request, response);
]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_paler_oracle_ide/user_management/users/{user_id}&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/users/{user_id}&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;requires_snc_internal_role&gt;true&lt;/requires_snc_internal_role&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-09-09 05:53:19&lt;/sys_created_on&gt;&lt;sys_id&gt;c667a1af4705b110d614699e536d4352&lt;/sys_id&gt;&lt;sys_mod_count&gt;9&lt;/sys_mod_count&gt;&lt;sys_name&gt;UserWithEntitlementByUserId&lt;/sys_name&gt;&lt;sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Oracle Identity Management for User Management"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_c667a1af4705b110d614699e536d4352&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-09-28 07:17:30&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="User Management"&gt;b070e0e8479c7550d614699e536d439b&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>-64248722</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>b7ce821747253190d614699e536d432f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18adaa65c010000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>UserWithEntitlementByUserId</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>5fa1b72501edf1506aed90e6867a6190</update_guid>
<update_guid_history>5fa1b72501edf1506aed90e6867a6190:-64248722,034606baa499fd1095a8f52d0b4cf652:887267297,92d897286595b5103ceff106aa75db43:-805453889,8a4b6563b845b110dd293364b4508222:-42791541,36c96563ed45b1107ff294b65512341d:-1248070322,1a79ed63e445b110b72df3ac7680a779:278139278,cd6925236845b11084ebee42a3aa496c:-872666028,679865636745b110f6c3272c6cbd8c06:606478420,df68ed233545b110d9b630597458bbb5:-1738259404,c538edaf0a05b110998baf87927d21ca:-1261711942</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_query_parameter_e126cc9797ec7d1051e136c71153afc4</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ws_query_parameter"><sys_ws_query_parameter action="INSERT_OR_UPDATE"><example_value/><name>sysparm_offset</name><required>false</required><short_description>Starting point for scripted Api</short_description><sys_class_name>sys_ws_query_parameter</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-14 07:36:41</sys_created_on><sys_id>e126cc9797ec7d1051e136c71153afc4</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sysparm_offset</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_ws_query_parameter_e126cc9797ec7d1051e136c71153afc4</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-14 07:36:41</sys_updated_on><web_service_definition display_value="User Management">b070e0e8479c7550d614699e536d439b</web_service_definition></sys_ws_query_parameter></record_update>]]></payload>
<payload_hash>-968372620</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>b7ce821747253190d614699e536d4349</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>189f2f9bf810000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>sysparm_offset</target_name>
<type>Scripted REST Query Parameter</type>
<update_domain>global</update_domain>
<update_guid>2d86c01f76ec7d1011c8b0c712bfb37c</update_guid>
<update_guid_history>2d86c01f76ec7d1011c8b0c712bfb37c:-968372620</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_11c401dc47517510d614699e536d43fc</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-09-11 11:13:57</sys_created_on><sys_id>11c401dc47517510d614699e536d43fc</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ResourceSupport</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_11c401dc47517510d614699e536d43fc</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-09-11 11:13:57</sys_updated_on><target_name>ResourceSupport</target_name><target_scope display_value="Global">global</target_scope><target_type>sys_script_include</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>994233108</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>bbce821747253190d614699e536d4325</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a83f2bc0a0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>ResourceSupport</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>11c401dc19517510f88300420a5245fd</update_guid>
<update_guid_history>11c401dc19517510f88300420a5245fd:994233108</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_968c2dc297387d5051e136c71153af4a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>read</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-23 04:05:40</sys_created_on><sys_id>968c2dc297387d5051e136c71153af4a</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sys_user_group</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_968c2dc297387d5051e136c71153af4a</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-23 04:05:40</sys_updated_on><target_name>sys_user_group</target_name><target_scope display_value="Global">global</target_scope><target_type>sys_db_object</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>514398929</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>bbce821747253190d614699e536d4328</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a2091ca9a0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>sys_user_group</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>568c2dc28f387d50092be3d0765bf14c</update_guid>
<update_guid_history>568c2dc28f387d50092be3d0765bf14c:514398929</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_e1da53e847cd3190d614699e536d43b3</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>create</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-31 06:32:23</sys_created_on><sys_id>e1da53e847cd3190d614699e536d43b3</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sys_user</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_e1da53e847cd3190d614699e536d43b3</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-31 06:32:23</sys_updated_on><target_name>sys_user</target_name><target_scope display_value="Global">global</target_scope><target_type>sys_db_object</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>-1936996117</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>bbce821747253190d614699e536d432b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a4a4aff720000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>sys_user</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>e5da53e808cd31901491ef1999c777b4</update_guid>
<update_guid_history>e5da53e808cd31901491ef1999c777b4:-1936996117</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_a7f83fec47017190d614699e536d43c1</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;POST&lt;/http_method&gt;&lt;name&gt;AssignGroup&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
    var requestBody = request.body.data;
    var userId = requestBody.user;
    var groupId = requestBody.group;
    
    var userRecord = new GlideRecord('sys_user'); 
    if (userRecord.get(userId)) {
        // User found
        var groupRecord = new GlideRecord('sys_user_group'); 
        if (groupRecord.get(groupId)) {
            // Group found
            var userGroupRecord = new GlideRecord('sys_user_grmember'); // manage user-group
            userGroupRecord.initialize();
            userGroupRecord.user = userId;
            userGroupRecord.group = groupId;
            userGroupRecord.insert();
			response.setStatus(201);
            response.setBody({
                message: "Group assigned to user successfully"
            });
        } else {
            // Group not found
            response.setStatus(404);
            response.setBody({
                error: "Group not found"
            });
        }
    } else {
        // User not found
        response.setStatus(404);
        response.setBody({
            error: "User not found"
        });
    }
})(request, response);
]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_paler_oracle_ide/user_management/user_group&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/user_group&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;requires_snc_internal_role&gt;true&lt;/requires_snc_internal_role&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-08-31 08:45:18&lt;/sys_created_on&gt;&lt;sys_id&gt;a7f83fec47017190d614699e536d43c1&lt;/sys_id&gt;&lt;sys_mod_count&gt;11&lt;/sys_mod_count&gt;&lt;sys_name&gt;AssignGroup&lt;/sys_name&gt;&lt;sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Oracle Identity Management for User Management"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_a7f83fec47017190d614699e536d43c1&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-09-20 08:30:43&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="User Management"&gt;b070e0e8479c7550d614699e536d439b&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>-268659794</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>bbce821747253190d614699e536d432e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18ab1b684cd0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>AssignGroup</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>bdb5fe87d1dd3150ca1ff7a2cb0355ec</update_guid>
<update_guid_history>bdb5fe87d1dd3150ca1ff7a2cb0355ec:-268659794,5595f28767dd3150fbdc3ccc49c127b4:-1920802250,8a253a87f2dd3150cdc786fa2f9a1572:505171604,32d43ac3acdd315031c3d6e7811d13eb:283880460,5a0ba55fd6c171104dd077850c1cfa8d:-268659794,45a844fc5541719007ea64b2962cd565:1654242234,eddc7b24d141719095014466abdf002e:-1325928892,21ac77246e4171908b78fa371c530527:-1161665725,6d0bbb2414417190c9833398a60720e7:-112448893,40da7b647041719059f0ba7b5436615f:1053478965,d1b97f60d8417190a0a60265c0229766:2011754746,244973244641719003c495a712e0b987:-1650310220</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_75584d814749b190d614699e536d435c</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>read</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-09-01 09:09:18</sys_created_on><sys_id>75584d814749b190d614699e536d435c</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sys_user_grmember</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_75584d814749b190d614699e536d435c</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-09-01 09:09:18</sys_updated_on><target_name>sys_user_grmember</target_name><target_scope display_value="Global">global</target_scope><target_type>sys_db_object</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>1848016363</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>bfce821747253190d614699e536d4327</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a500105f90000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>sys_user_grmember</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>35584d81f749b190d3f417787b4c605e</update_guid>
<update_guid_history>35584d81f749b190d3f417787b4c605e:1848016363</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_d1c4c99c47517510d614699e536d4301</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>delete</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-09-11 11:13:57</sys_created_on><sys_id>d1c4c99c47517510d614699e536d4301</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sys_user_grmember</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_d1c4c99c47517510d614699e536d4301</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-09-11 11:13:57</sys_updated_on><target_name>sys_user_grmember</target_name><target_scope display_value="Global">global</target_scope><target_type>sys_db_object</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>-1448503690</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>bfce821747253190d614699e536d432a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a83f2bb0c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>sys_user_grmember</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>5dc4c99c5951751095152131aaeef204</update_guid>
<update_guid_history>5dc4c99c5951751095152131aaeef204:-1448503690</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_537672a647417990d614699e536d43d1</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="DELETE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;DELETE&lt;/http_method&gt;&lt;name&gt;RemoveGroup2&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {
	var groupId =(request.queryParams.groupId).toString();
    var groupMembershipGr = new GlideRecord('sys_user_grmember');
	groupMembershipGr.addQuery('group', groupId);
        groupMembershipGr.query();
	
           groupMembershipGr.deleteRecord();
		var responseBody = {
            
            group:"Group Deleted successfully" 
        };
        
 response.setBody(responseBody);
})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_paler_oracle_ide/user_management/rm_group2&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/rm_group2&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;requires_snc_internal_role&gt;true&lt;/requires_snc_internal_role&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-09-06 09:04:33&lt;/sys_created_on&gt;&lt;sys_id&gt;537672a647417990d614699e536d43d1&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_name&gt;RemoveGroup2&lt;/sys_name&gt;&lt;sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Oracle Identity Management for User Management"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_537672a647417990d614699e536d43d1&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-09-06 09:08:44&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="User Management"&gt;b070e0e8479c7550d614699e536d439b&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>911838806</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>bfce821747253190d614699e536d432d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a69c41a2d0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>RemoveGroup2</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>8b193a2ae3417990e8ab5b60e01c7e45</update_guid>
<update_guid_history>8b193a2ae3417990e8ab5b60e01c7e45:911838806,9228b6a625417990cd2587df64193ad0:844602698,0bb7b6a6ff417990131b8f6dde1d5520:318539300,b6973ea6074179901fa1b52885013066:-1989648358,c137b2a699417990c6e01e1d999565a1:-1992804266</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_15c401dc47517510d614699e536d43fa</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-09-11 11:13:57</sys_created_on><sys_id>15c401dc47517510d614699e536d43fa</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Glide API: scripting</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_15c401dc47517510d614699e536d43fa</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-09-11 11:13:57</sys_updated_on><target_name>Glide API: scripting</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>1097328129</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>f3ce821747253190d614699e536d4326</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a83f2bbfb0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>Glide API: scripting</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>15c401dc2b517510f56256c66d1724fb</update_guid>
<update_guid_history>15c401dc2b517510f56256c66d1724fb:1097328129</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_a4bcfba447417190d614699e536d4316</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>create</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-31 09:00:19</sys_created_on><sys_id>a4bcfba447417190d614699e536d4316</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sys_user_grmember</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_a4bcfba447417190d614699e536d4316</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-31 09:00:19</sys_updated_on><target_name>sys_user_grmember</target_name><target_scope display_value="Global">global</target_scope><target_type>sys_db_object</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>-1303532731</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>f3ce821747253190d614699e536d4329</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a4ad26f440000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>sys_user_grmember</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>6cbcfba4ae41719024327d59198dfe17</update_guid>
<update_guid_history>6cbcfba4ae41719024327d59198dfe17:-1303532731</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_definition_b070e0e8479c7550d614699e536d439b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ws_definition"><sys_ws_definition action="INSERT_OR_UPDATE"><active>true</active><base_uri>/api/x_paler_oracle_ide/user_management</base_uri><consumes>application/json,application/xml,text/xml</consumes><consumes_customized>false</consumes_customized><default_version>No active default version</default_version><doc_link/><enforce_acl>cf9d01d3e73003009d6247e603f6a990</enforce_acl><is_versioned>false</is_versioned><name>User Management</name><namespace>x_paler_oracle_ide</namespace><produces>application/json,application/xml,text/xml</produces><produces_customized>false</produces_customized><service_id>user_management</service_id><short_description/><sys_class_name>sys_ws_definition</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-07-24 10:11:10</sys_created_on><sys_id>b070e0e8479c7550d614699e536d439b</sys_id><sys_mod_count>0</sys_mod_count><sys_name>User Management</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_ws_definition_b070e0e8479c7550d614699e536d439b</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-07-24 10:11:10</sys_updated_on></sys_ws_definition></record_update>]]></payload>
<payload_hash>2061683286</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>f3ce821747253190d614699e536d432c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1898761a4a00000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>User Management</target_name>
<type>Scripted REST API</type>
<update_domain>global</update_domain>
<update_guid>3370e0e8e99c75501143361b9a858cb1</update_guid>
<update_guid_history>3370e0e8e99c75501143361b9a858cb1:2061683286</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_c6320e8147103950d614699e536d43f2</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;GET&lt;/http_method&gt;&lt;name&gt;GetUserData&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {

    var limit = parseInt(request.queryParams.limit) || 10; // Default to 10 if not provided
    var offset = parseInt(request.queryParams.offset) || 1; // Default page number

    var userRecords = [];
    var grUser = new GlideRecord('sys_user');
    grUser.query(); // Retrieve all users

	
    var startRecord = (offset - 1) * limit;
    var endRecord = startRecord + limit; 

	gs.info("endRecord " + endRecord);
	
    var recordCounter = 0;

    var fields = gs.getProperty("x_paler_oracle_ide.fields_json").split(",");
    gs.info("This is to check the array - " + fields[1]);


    while (grUser.next() &amp;&amp; recordCounter &lt; endRecord) {
		var user = {};
		gs.info("grUser- user Name" + grUser["name"]);
        if (recordCounter &gt;= startRecord) {
			for (var i in fields) {
				user[fields[i]] = grUser.getValue(fields[i]);
			}
		gs.info("User - user Name" + user);
		}
		if(user != {})
		userRecords.push(user);
		gs.info("UserRecord " + recordCounter +"- user Name" + userRecords[recordCounter]["name"]);
        recordCounter++;
    }

    var nextoffset = offset + 1;
    var hasNextPage = recordCounter &gt; endRecord;

    var responseBody = {
        page_number: offset,
        page_size: limit,
        has_next_page: hasNextPage,
        users: userRecords
    };

    response.setContentType('application/json');
    response.setStatus(200);
    response.setBody(responseBody);

})(request, response);
]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_paler_oracle_ide/user_management&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;false&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;requires_snc_internal_role&gt;true&lt;/requires_snc_internal_role&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-07-26 06:38:21&lt;/sys_created_on&gt;&lt;sys_id&gt;c6320e8147103950d614699e536d43f2&lt;/sys_id&gt;&lt;sys_mod_count&gt;68&lt;/sys_mod_count&gt;&lt;sys_name&gt;GetUserData&lt;/sys_name&gt;&lt;sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Oracle Identity Management for User Management"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_c6320e8147103950d614699e536d43f2&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-08-28 05:42:35&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="User Management"&gt;b070e0e8479c7550d614699e536d439b&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>1590628682</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>f3ce821747253190d614699e536d432f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a3aaa51f00000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>GetUserData</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>62a2bbaf9c347d505e9ac1e2f278d8c9</update_guid>
<update_guid_history>62a2bbaf9c347d505e9ac1e2f278d8c9:1590628682,e0e7f1cebe387d504c990f1a989fb722:592788183,adc7758e29387d50c4e61a97db0d41a9:-1965237377,aea7358e6c387d5056a588fad29eb870:967881659,a007310e06387d5053d10533f7ad84d2:-745067982,25d789bdb7343d5009ecf2d1d47aaf09:673664150,0867413db1343d50185bddcbc36257af:-1995858135,cfc585f996343d50a921bf5c635e1ae7:-1958678741,3d858db915343d50abb06adae0e8a940:-507877820,d1e485f98c343d501c1bc50b9093d7b5:125230987,c6748d790b343d50a91aad6a4d1552cd:-88424666,fa4441f961343d506224b716546597ea:-1503516170,dbe34db9be343d509d9a02978a88cefa:2054127070,fcb349b916343d50d680035d042d578c:1334339342,bc8109392b343d50df29ada9ed5b3fdb:2054127070,d7ffb875c9343d50f0ceafd2de8e60e9:989621554,d76e3075b4343d504cd13199a04abfe1:-1833781692,713e747572343d50165e36ea1be3d965:1141290532,eabd3075a2343d50802a9d91f07a2767:378174658,34773c3d72f03d50f1fb5d6fb62ef316:-2068968591,51a6b03d66f03d50e3eb05d0caa3fb90:1522810773,5126303df7f03d50e53a2a4c8f7bbddd:659207093,c7a5383d5ff03d503938e7d05399cc6a:140060841,b60530f94af03d50a73344ee81857801:-559736413,53579450f7fc35506ac96ec1355391b4:-1831561452,3af3941c47bc355032820601a1a25538:1830214872,70ef40147fbc355023c8d7a6be1110fc:-1831561452,37bf8c905abc35508e4a890f628ccfd7:1787534384,1c18009c357c3550d3292dfe6af435ac:1689825496,99d7045c797c3550bbf367dfa2d82de0:2049240267,3487809cfd7c35501f8f9f1ab75ddb75:1689825496,c877809c527c3550de62ddf1301d9e70:492742872,c9fbb30c993c3550b51d429e605ee3f7:1598388803,cd793380643c3550745dc1fd28c51e2a:1587566980,2c077b0844f83550dc90ca620cc7f9be:-1297314788,2605f3cc1ab83550962b09d97b429dc7:697013012,d4043f84b4b83550729864c46906e4a5:1497675124,48c3fbc8b9b8355051d84e093f62cbbf:1421710038,75733f045eb83550f1e0f0fe6e8662c5:1554759030,9353738899b835501a3597fd6bda676c:2043524886,c782bf4498b835502f0e8cfa7c46b91e:1187755627,a3aff6442bb43550e349b5fed373e28e:764049867,cb7fba8499b43550d5d73d316df42dd9:-689162127,053ff644ffb435505e765dd61f49c08a:1479094807,fb7a7bf7e8a0f15018bbc2c8fb1e8b01:-2024776342,9681985befe0bd10eabb96445a17ff33:734330629,a21d0c9f1eec7d10be3458e38c2a137b:972579135,e67cc01f99ec7d109f615942e4b09b87:-869488344,bc48481f7eec7d1032678966c763060b:-1224809218,17654c17d7ec7d106d9e6120e78337eb:-1718847937,26e4a8ba5c587d503a22b83f5d0e7894:-810905864,a6b4647ef9587d5020d7360bd9a61e84:1726199903,0c54ecbab8587d509ceca0d7eecc254a:-1937999039,1c63a8bab5587d509d4d7254789f38ff:-846486730,f3a0e9fdfd94b950125b7db6bc345afd:1931950640,85ff9d7dc194b950470b12e3cc6a8463:-591631705,b54d7c315754b950107ca95d22a42143:-1348141130,884a20313414b95035f1eabc3c4c6dc4:450789254,aa1aecfdcfd0b95060a5b50dd278332f:-737603850,080ae8fd39d0b950ba61ad580606691d:-1945770810,acea9685e35039502b012bd2e8e92270:317358592,05b916052e503950868df9cd4425aafb:54432128,cb489e056c503950edc58002c1838c55:839646307,50e71e05be503950871fffcdf30f00ab:-1730366283,e0771681e7503950cee6b35d0c444514:323457663,cb46dacdf7103950ce549f44afb803db:1845974709,b7065a813e5039507fa5864ff728fe69:-1137986609,8c421ecdfa103950cdb5be2d9dc8e445:-1012548537,c6f286c1d4103950a7313adaeec9d453:1920909644</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_query_parameter_c83d001f9760bd1051e136c71153af8f</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ws_query_parameter"><sys_ws_query_parameter action="INSERT_OR_UPDATE"><example_value/><name>sysparm_query</name><required>false</required><short_description>Query parameter for filtering the record</short_description><sys_class_name>sys_ws_query_parameter</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-14 08:06:31</sys_created_on><sys_id>c83d001f9760bd1051e136c71153af8f</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sysparm_query</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_ws_query_parameter_c83d001f9760bd1051e136c71153af8f</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-14 08:06:31</sys_updated_on><web_service_definition display_value="User Management">b070e0e8479c7550d614699e536d439b</web_service_definition></sys_ws_query_parameter></record_update>]]></payload>
<payload_hash>765408577</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>f3ce821747253190d614699e536d4349</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>189f31511420000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>sysparm_query</target_name>
<type>Scripted REST Query Parameter</type>
<update_domain>global</update_domain>
<update_guid>665d841b8160bd10bdae16eb4003e6b9</update_guid>
<update_guid_history>665d841b8160bd10bdae16eb4003e6b9:765408577</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_properties_f0a0e0ba47587d50d614699e536d43ce</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description/><ignore_cache>true</ignore_cache><is_private>false</is_private><name>x_paler_oracle_ide.fields_json</name><read_roles/><suffix>fields_json</suffix><sys_class_name>sys_properties</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-07-31 10:01:54</sys_created_on><sys_id>f0a0e0ba47587d50d614699e536d43ce</sys_id><sys_mod_count>4</sys_mod_count><sys_name>x_paler_oracle_ide.fields_json</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_properties_f0a0e0ba47587d50d614699e536d43ce</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-07-31 12:53:52</sys_updated_on><type>string</type><value>calendar_integration,country,user_password,last_login_time,hashed_user_id,source,sys_updated_on,building,web_service_access_only,notification,enable_multifactor_authn,sys_updated_by,sys_created_on,sys_domain,state,vip,sys_created_by,zip,home_phone,time_format,last_login,default_perspective,active,sys_domain_path,cost_center,phone,name,employee_number,password_needs_reset,gender,city,failed_attempts,user_name,roles,title,sys_class_name,sys_id,internal_integration_user,ldap_server,mobile_phone,street,company,department,first_name,email,introduction,preferred_language,manager,locked_out,sys_mod_count,last_name,photo,avatar,middle_name,sys_tags,time_zone,schedule,date_format,location</value><write_roles/></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=f0a0e0ba47587d50d614699e536d43ce"/></record_update>]]></payload>
<payload_hash>-1674191147</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>f7ce821747253190d614699e536d4325</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>189ac031f3b0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>x_paler_oracle_ide.fields_json</target_name>
<type>System Property</type>
<update_domain>global</update_domain>
<update_guid>efd8817a8ed87d502aec46cc2d53f97f</update_guid>
<update_guid_history>efd8817a8ed87d502aec46cc2d53f97f:-1674191147,92d7cd7a6fd87d5021d71cce9a916385:-1511988059,dec070f674987d502fdf618c3e7ae02a:-821390662,b624a07edc587d50365a618d06b2a6dc:538955437,5481a8bac2587d5027f9bd0eefe7cb69:-629408373</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_8c910fee47417990d614699e536d433b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>write</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-09-06 09:49:49</sys_created_on><sys_id>8c910fee47417990d614699e536d433b</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sys_user_grmember</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_8c910fee47417990d614699e536d433b</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-09-06 09:49:49</sys_updated_on><target_name>sys_user_grmember</target_name><target_scope display_value="Global">global</target_scope><target_type>sys_db_object</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>-1591790110</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>f7ce821747253190d614699e536d4328</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a69e5e8ec0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>sys_user_grmember</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>0c910fee1e41799008a1fab60fd2523d</update_guid>
<update_guid_history>0c910fee1e41799008a1fab60fd2523d:-1591790110</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Manager for Service Catalogue">a49e5f99974e515051e136c71153af85</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_e1bac27d97383d5051e136c71153affa</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="Oracle Identity Manager for Service Catalogue">a49e5f99974e515051e136c71153af85</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-22 11:39:01</sys_created_on><sys_id>e1bac27d97383d5051e136c71153affa</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ScriptableRESTMessageClient.setEndpoint</sys_name><sys_package display_value="Oracle Identity Manager for Service Catalogue" source="x_paler_oim">a49e5f99974e515051e136c71153af85</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Manager for Service Catalogue">a49e5f99974e515051e136c71153af85</sys_scope><sys_update_name>sys_scope_privilege_e1bac27d97383d5051e136c71153affa</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-22 11:39:01</sys_updated_on><target_name>ScriptableRESTMessageClient.setEndpoint</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>-113006175</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>f7ce821747253190d614699e536d432b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a1d0a7f460000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>ScriptableRESTMessageClient.setEndpoint</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>e1bac27d33383d50c6457d31a5681cfb</update_guid>
<update_guid_history>e1bac27d33383d50c6457d31a5681cfb:-113006175</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_a05ac24297b87d5051e136c71153af18</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;GET&lt;/http_method&gt;&lt;name&gt;GetRolesById&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {

	var roleSysId=request.pathParams.role_id;
   
	var results = [];
    var result;
    var fields = gs.getProperty("x_paler_oracle_ide.role_field_json").split(",");
    var field;
    var grRole = new GlideRecord("sys_user_role");
    if (!gs.nil(roleSysId))
        grRole.addEncodedQuery("sys_id="+roleSysId);
        grRole.query();
    if(grRole.next()) {
         result = {};
         for (var i in fields) {
             result[fields[i]] = grRole[fields[i]];
         }
			
        results.push(result);
        gs.info("This is response JSON" + result);
    }
   
	response.setContentType('application/json');
    response.setStatus(200);
    response.setBody(results);
    // implement resource here

})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_paler_oracle_ide/user_management/roles/{role_id}&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/roles/{role_id}&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;requires_snc_internal_role&gt;true&lt;/requires_snc_internal_role&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-08-23 06:19:36&lt;/sys_created_on&gt;&lt;sys_id&gt;a05ac24297b87d5051e136c71153af18&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;GetRolesById&lt;/sys_name&gt;&lt;sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Oracle Identity Management for User Management"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_a05ac24297b87d5051e136c71153af18&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-08-24 04:47:12&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="User Management"&gt;b070e0e8479c7550d614699e536d439b&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1005812770</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>f7ce821747253190d614699e536d432e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a25de2ff00000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>GetRolesById</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>20af32166b70fd506fc21bd9f7da8c1e</update_guid>
<update_guid_history>20af32166b70fd506fc21bd9f7da8c1e:-1005812770,c16f3a52cb70fd5090c5ae99f3fe7c67:609722461,5f6c4b4ef97c7d5048e2591a4cdb3a3f:1578727648,5adec246dbb87d50a074695003209f48:1855564053,887cc6429fb87d50cb0491bfc3288104:9505741,183bc24227b87d507f113d531c75dc15:796200171</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_6b05710e97387d5051e136c71153af60</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>read</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-23 04:42:54</sys_created_on><sys_id>6b05710e97387d5051e136c71153af60</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sys_user_role</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_6b05710e97387d5051e136c71153af60</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-23 04:42:54</sys_updated_on><target_name>sys_user_role</target_name><target_scope display_value="Global">global</target_scope><target_type>sys_db_object</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>693473613</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>fbce821747253190d614699e536d4327</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a20b3e2360000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>sys_user_role</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>6f05710ea7387d503507b96f06336761</update_guid>
<update_guid_history>6f05710ea7387d503507b96f06336761:693473613</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_ce58ff1a4755bd10d614699e536d4384</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>delete</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-09-18 05:26:22</sys_created_on><sys_id>ce58ff1a4755bd10d614699e536d4384</sys_id><sys_mod_count>0</sys_mod_count><sys_name>sys_user_has_role</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_ce58ff1a4755bd10d614699e536d4384</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-09-18 05:26:22</sys_updated_on><target_name>sys_user_has_role</target_name><target_scope display_value="Global">global</target_scope><target_type>sys_db_object</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>-1921393694</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>fbce821747253190d614699e536d432a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18aa6c106530000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>sys_user_has_role</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>06583b5a7655bd10de1084b3f8fc1478</update_guid>
<update_guid_history>06583b5a7655bd10de1084b3f8fc1478:-1921393694</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_42ffed8697387d5051e136c71153af79</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;GET&lt;/http_method&gt;&lt;name&gt;GetGroupByID&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {

	var groupSysId=request.pathParams.user_id;
   
	var results = [];
    var result;
    var fields = gs.getProperty("x_paler_oracle_ide.group_field_json").split(",");
    var field;
    var grGroup = new GlideRecord("sys_user_group");
    if (!gs.nil(groupSysId))
        grGroup.addEncodedQuery("sys_id="+groupSysId);
        grGroup.query();
    if(grGroup.next()) {
        result = {};
        for (var i in fields) {
            result[fields[i]] = grGroup[fields[i]];
        }
        results.push(result);
        gs.info("This is response JSON" + result);
    }
   
	response.setContentType('application/json');
    response.setStatus(200);
    response.setBody(results);
    // implement resource here

})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_paler_oracle_ide/user_management/groups/{user_id}&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/groups/{user_id}&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;requires_snc_internal_role&gt;true&lt;/requires_snc_internal_role&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-08-23 04:20:40&lt;/sys_created_on&gt;&lt;sys_id&gt;42ffed8697387d5051e136c71153af79&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;GetGroupByID&lt;/sys_name&gt;&lt;sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Oracle Identity Management for User Management"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_42ffed8697387d5051e136c71153af79&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-08-27 18:06:36&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="User Management"&gt;b070e0e8479c7550d614699e536d439b&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>1208336662</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>fbce821747253190d614699e536d432d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a382d22d20000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>GetGroupByID</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>7b535def47343d5097aab40f249ed856</update_guid>
<update_guid_history>7b535def47343d5097aab40f249ed856:1208336662,8941750a6c387d50b4793722fccbe9e4:-1427038367,d521750a6a387d500a01299776fc60d0:1126489587,a280f58619387d50e5498640df8e1253:-1265034169,42ffed8681387d5001e17849693ee67a:864250143</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_61589f6847cd3190d614699e536d43ba</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-31 06:21:28</sys_created_on><sys_id>61589f6847cd3190d614699e536d43ba</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ScriptableRESTResponse.getStatusCode</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_61589f6847cd3190d614699e536d43ba</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-31 06:21:28</sys_updated_on><target_name>ScriptableRESTResponse.getStatusCode</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>-1346190367</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>ffce821747253190d614699e536d4326</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a4a4100880000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>ScriptableRESTResponse.getStatusCode</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>61589f680dcd3190a326d01019e365bb</update_guid>
<update_guid_history>61589f680dcd3190a326d01019e365bb:-1346190367</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_scope_privilege_ad58d76847cd3190d614699e536d43dc</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_scope_privilege"><sys_scope_privilege action="INSERT_OR_UPDATE"><operation>execute</operation><source_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</source_scope><status>allowed</status><sys_class_name>sys_scope_privilege</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-08-31 06:21:28</sys_created_on><sys_id>ad58d76847cd3190d614699e536d43dc</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ScriptableRESTMessageClient.execute</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_scope_privilege_ad58d76847cd3190d614699e536d43dc</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-08-31 06:21:28</sys_updated_on><target_name>ScriptableRESTMessageClient.execute</target_name><target_scope display_value="Global">global</target_scope><target_type>scriptable</target_type></sys_scope_privilege></record_update>]]></payload>
<payload_hash>1069244565</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>ffce821747253190d614699e536d4329</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a4a4100630000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>ScriptableRESTMessageClient.execute</target_name>
<type>Cross scope privilege</type>
<update_domain>global</update_domain>
<update_guid>69589f6816cd3190dd0f299ad254d6b7</update_guid>
<update_guid_history>69589f6816cd3190dd0f299ad254d6b7:1069244565</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_operation_2bd4d12347743d50d614699e536d435c</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;GET&lt;/http_method&gt;&lt;name&gt;GetDepartmentByID&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {

	var departmentSysId=request.pathParams.user_id;
   
	var results = [];
    var result;
    var fields = gs.getProperty("x_paler_oracle_ide.department_field_json").split(",");
    var field;
    var grDepartment = new GlideRecord("cmn_department");
    if (!gs.nil(departmentSysId))
        grDepartment.addEncodedQuery("sys_id="+departmentSysId);
        grDepartment.query();
    if(grDepartment.next()) {
        result = {};
        for (var i in fields) {
            result[fields[i]] = grDepartment[fields[i]];
        }
        results.push(result);
        gs.info("This is response JSON" + result);
    }
   
	response.setContentType('application/json');
    response.setStatus(200);
    response.setBody(results);
    // implement resource here

})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/x_paler_oracle_ide/user_management/department/{user_id}&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/department/{user_id}&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;requires_snc_internal_role&gt;true&lt;/requires_snc_internal_role&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2023-08-27 18:15:35&lt;/sys_created_on&gt;&lt;sys_id&gt;2bd4d12347743d50d614699e536d435c&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;GetDepartmentByID&lt;/sys_name&gt;&lt;sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Oracle Identity Management for User Management"&gt;07ef0cac475c7550d614699e536d43c5&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_2bd4d12347743d50d614699e536d435c&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2023-08-27 18:16:09&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="User Management"&gt;b070e0e8479c7550d614699e536d439b&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload>
<payload_hash>543906907</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>ffce821747253190d614699e536d432c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a3835de680000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>GetDepartmentByID</target_name>
<type>Scripted REST Resource</type>
<update_domain>global</update_domain>
<update_guid>1b8591a3e7743d50576702f42b139e5f</update_guid>
<update_guid_history>1b8591a3e7743d50576702f42b139e5f:543906907,5b65996304743d50a0c6dfcebdb32a63:395950450</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</application>
<category>customer</category>
<comments/>
<name>sys_ws_query_parameter_map_b74515494749b190d614699e536d4329</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ws_query_parameter_map"><sys_ws_query_parameter_map action="INSERT_OR_UPDATE"><sys_class_name>sys_ws_query_parameter_map</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-09-01 10:07:12</sys_created_on><sys_id>b74515494749b190d614699e536d4329</sys_id><sys_mod_count>0</sys_mod_count><sys_name>c83d001f9760bd1051e136c71153af8f</sys_name><sys_package display_value="Oracle Identity Management for User Management" source="x_paler_oracle_ide">07ef0cac475c7550d614699e536d43c5</sys_package><sys_policy/><sys_scope display_value="Oracle Identity Management for User Management">07ef0cac475c7550d614699e536d43c5</sys_scope><sys_update_name>sys_ws_query_parameter_map_b74515494749b190d614699e536d4329</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-09-01 10:07:12</sys_updated_on><web_service_operation display_value="GetGroupAssignToUser">b26649414749b190d614699e536d43f2</web_service_operation><web_service_query_parameter display_value="sysparm_query">c83d001f9760bd1051e136c71153af8f</web_service_query_parameter></sys_ws_query_parameter_map></record_update>]]></payload>
<payload_hash>1175973134</payload_hash>
<remote_update_set display_value="User Management APIs">77ce821747253190d614699e536d4324</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2023-10-03 10:34:54</sys_created_on>
<sys_id>ffce821747253190d614699e536d4349</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>18a5036065a0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2023-10-03 10:34:54</sys_updated_on>
<table/>
<target_name>c83d001f9760bd1051e136c71153af8f</target_name>
<type>Scripted REST Query Parameter Associatio</type>
<update_domain>global</update_domain>
<update_guid>3d95554d3049b190bcae6ef110fc22c8</update_guid>
<update_guid_history>3d95554d3049b190bcae6ef110fc22c8:1175973134</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
</unload>
